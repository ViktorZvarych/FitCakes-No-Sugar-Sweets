const products = [
  {
    category: '–¢–æ—Ä—Ç–∏',
    categoryId: 'torts',
    categoryImg: 'torts.webp',
    –∞–∫—Ü—ñ—è: '', // –î–æ–¥–∞–Ω–æ –ø–æ—Ä–æ–∂–Ω—î –ø–æ–ª–µ –∞–∫—Ü—ñ—è
    categoryDescription: [
      '–ë–µ–∑ —Ü—É–∫—Ä—É, –±–µ–∑ –ª–∞–∫—Ç–æ–∑–∏, –±–µ–∑ –≥–ª—é—Ç–µ–Ω—É!',
      '–¶–µ–π –¥–µ—Å–µ—Ä—Ç –º—ñ—Å—Ç–∏—Ç—å –≤–µ–ª–∏–∫—É –∫—ñ–ª—å–∫—ñ—Å—Ç—å –±—ñ–ª–∫–∞. –£ –π–æ–≥–æ —Å–∫–ª–∞–¥—ñ —î –ø—Ä–æ—Ç–µ—ó–Ω, –∑–∞–≤–¥—è–∫–∏ —á–æ–º—É, –∑`—ó–≤—à–∏ —à–º–∞—Ç–æ—á–æ–∫ –±—Ä–∞—É–Ω—ñ, –≤–∏ –º–æ–∂–µ—Ç–µ –ª–µ–≥–∫–æ –ø–æ–ø–æ–≤–Ω–∏—Ç–∏ –∑–∞–ø–∞—Å–∏ –±—ñ–ª–∫–∞ –≤ –æ—Ä–≥–∞–Ω—ñ–∑–º—ñ.',
      '–ë—ñ–ª–æ–∫ ‚Äî —Ü–µ –º–∞–∫—Ä–æ–Ω—É—Ç—Ä—ñ—î–Ω—Ç, —è–∫–∏–π –º–∏ —á–∞—Å—Ç–æ –Ω–µ –¥–æ–±–∏—Ä–∞—î–º–æ —É —â–æ–¥–µ–Ω–Ω–æ–º—É —Ä–∞—Ü—ñ–æ–Ω—ñ. –ê –π–æ–≥–æ –¥–µ—Ñ—ñ—Ü–∏—Ç –º–æ–∂–µ –Ω–µ–≥–∞—Ç–∏–≤–Ω–æ –≤–ø–ª–∏–≤–∞—Ç–∏ –Ω–∞ —Å—Ç–∞–Ω —à–∫—ñ—Ä–∏, —Ñ—ñ–≥—É—Ä—É, —Ç—ñ–ª–æ —Ç–∞ –º‚Äô—è–∑–∏.',
      '–¢–æ–º—É —Ü–µ–π –¥–µ—Å–µ—Ä—Ç ‚Äî —á—É–¥–æ–≤–∏–π –≤–∞—Ä—ñ–∞–Ω—Ç –¥–ª—è –≤—Å—ñ—Ö, –∞ –æ—Å–æ–±–ª–∏–≤–æ –¥–ª—è —Ç–∏—Ö, —Ö—Ç–æ –∑–∞–π–º–∞—î—Ç—å—Å—è —Å–ø–æ—Ä—Ç–æ–º, —Å—Ç–µ–∂–∏—Ç—å –∑–∞ –∫–∞–ª–æ—Ä—ñ–π–Ω—ñ—Å—Ç—é —Ä–∞—Ü—ñ–æ–Ω—É —Ç–∞ –±–∞–ª–∞–Ω—Å–æ–º –º–∞–∫—Ä–æ–Ω—É—Ç—Ä—ñ—î–Ω—Ç—ñ–≤.',
    ],
    categoryList: [
      {
        –Ω–∞–∑–≤–∞: '–ú–µ–¥—ñ–≤–Ω–∏–∫',
        —Ü—ñ–Ω–∞: 700,
        —Å–∫–ª–∞–¥: '',
        –∫–±–∂–≤: '',
        –≤–∞—Ä—ñ–∞–Ω—Ç–∏: [0.5, 0.8, 1, 1.5, 2],
        images: ['tort-medivnyk1.webp'],
        categoryId: 'torts',
      },
      {
        –Ω–∞–∑–≤–∞: '–ù–∞–ø–æ–ª–µ–æ–Ω',
        —Ü—ñ–Ω–∞: 650,
        —Å–∫–ª–∞–¥: '',
        –∫–±–∂–≤: '',
        –≤–∞—Ä—ñ–∞–Ω—Ç–∏: [0.5, 0.8, 1, 1.5, 2],
        images: ['tort-napoleon1.webp'],
        –∞–∫—Ü—ñ—è: {
          —Ç–µ—Ä–º—ñ–Ω: '31.09.2025',
          —Ü—ñ–Ω–∞: 600,
        },
        categoryId: 'torts',
      },
      {
        –Ω–∞–∑–≤–∞: '–ï—Å—Ç–µ—Ä—Ö–∞–∑—ñ',
        —Ü—ñ–Ω–∞: 650,
        —Å–∫–ª–∞–¥: '',
        –∫–±–∂–≤: '',
        –≤–∞—Ä—ñ–∞–Ω—Ç–∏: [0.5, 0.8, 1, 1.5, 2],
        images: ['tort-esterhazi1.webp'],
        categoryId: 'torts',
      },
      {
        –Ω–∞–∑–≤–∞: '–ú–æ—Ä–∫–≤—è–Ω–∏–π',
        —Ü—ñ–Ω–∞: 650,
        —Å–∫–ª–∞–¥: '',
        –∫–±–∂–≤: '200 / 6.3 / 15 / 10.3',
        –≤–∞—Ä—ñ–∞–Ω—Ç–∏: [0.5, 0.8, 1, 1.5, 2],
        images: ['tort-morkva1.webp'],
        categoryId: 'torts',
      },
    ],
  },
  {
    category: '–ë–µ–Ω—Ç–æ-–¢–æ—Ä—Ç–∏',
    categoryId: 'bento-torts',
    categoryImg: 'bento-torts.webp',
    –∞–∫—Ü—ñ—è: '', // –î–æ–¥–∞–Ω–æ –ø–æ—Ä–æ–∂–Ω—î –ø–æ–ª–µ –∞–∫—Ü—ñ—è
    categoryDescription: [
      '–ú—ñ–Ω—ñ—Ç–æ—Ä—Ç–∏ –≤–∞–≥–æ—é 650 –≥ ‚Äî —Ü–µ —ñ–¥–µ–∞–ª—å–Ω–∏–π –ø–æ–¥–∞—Ä—É–Ω–æ–∫ —á–∏ –¥–µ—Å–µ—Ä—Ç –Ω–∞ –¥–≤–æ—Ö.',
      '–í–∏–≥–æ—Ç–æ–≤–ª–µ–Ω—ñ –±–µ–∑ —Ü—É–∫—Ä—É, –∑ —è–∫—ñ—Å–Ω–∏—Ö —ñ–Ω–≥—Ä–µ–¥—ñ—î–Ω—Ç—ñ–≤, –≤–æ–Ω–∏ –ø–æ—î–¥–Ω—É—é—Ç—å –∫–æ—Ä–∏—Å—Ç—å —ñ –Ω–∞—Å–æ–ª–æ–¥—É.',
    ],
    categoryList: [
      {
        –Ω–∞–∑–≤–∞: '–í–∞–Ω—ñ–ª—å–Ω–∏–π –±—ñ—Å–∫–≤—ñ—Ç',
        —Ü—ñ–Ω–∞: 1000,
        —Å–∫–ª–∞–¥: '',
        –∫–±–∂–≤: '',
        –≤–∞—Ä—ñ–∞–Ω—Ç–∏: [0.65],
        images: ['bento-tort-vanil1.jpg'],
        categoryId: 'bento-torts',
      },
      {
        –Ω–∞–∑–≤–∞: '–®–æ–∫–æ–ª–∞–¥–Ω–∏–π –±—ñ—Å–∫–≤—ñ—Ç',
        —Ü—ñ–Ω–∞: 1000,
        —Å–∫–ª–∞–¥: '',
        –∫–±–∂–≤: '',
        –≤–∞—Ä—ñ–∞–Ω—Ç–∏: [0.65],
        images: ['bento-tort-shokolad1.jpg'],
        categoryId: 'bento-torts',
      },
      {
        –Ω–∞–∑–≤–∞: '–ú–∞–ª–∏–Ω–∞-–≤–∞–Ω—ñ–ª—å',
        —Ü—ñ–Ω–∞: 1000,
        —Å–∫–ª–∞–¥:
          '–±–æ—Ä–æ—à–Ω–æ –∑ –≤—ñ–≤—Å—è–Ω–∏—Ö –≤–∏—Å—ñ–≤–æ–∫, –º–∏–≥–¥–∞–ª–µ–≤–µ –±–æ—Ä–æ—à–Ω–æ, —Ä–∏—Å–æ–≤–µ –±–æ—Ä–æ—à–Ω–æ, —Å—É—Ö–µ –º–æ–ª–æ–∫–æ, —è–π—Ü—è, –º–æ–ª–æ–∫–æ, —Ü—É–∫—Ä–æ–∑–∞–º—ñ–Ω–Ω–∏–∫–∏ (–µ—Ä–∏—Ç—Ä–æ–ª, —Å—Ç–µ–≤—ñ—è), —Ä–æ–∑–ø—É—à—É–≤–∞—á, –ª–∏–º–æ–Ω–Ω–∏–π —Å—ñ–∫, –∫—Ä–µ–º-—Å–∏—Ä, –≤–µ—Ä—à–∫–æ–≤–∏–π —Å–∏—Ä, –≤–µ—Ä—à–∫–∏ 30%, –º–∞–ª–∏–Ω–∞, –∫—Ä–æ—Ö–º–∞–ª—å',
        –∫–±–∂–≤: '212 / 7.9 / 16.4 / 8',
        –≤–∞—Ä—ñ–∞–Ω—Ç–∏: [0.65],
        images: ['bento-tort-malyna1.jpg'],
        categoryId: 'bento-torts',
      },
      {
        –Ω–∞–∑–≤–∞: '–í–∏—à–Ω—è-—à–æ–∫–æ–ª–∞–¥',
        —Ü—ñ–Ω–∞: 1000,
        —Å–∫–ª–∞–¥:
          '–í—ñ–≤—Å—è–Ω—ñ –≤–∏—Å—ñ–≤–∫–∏, –º–∏–≥–¥–∞–ª–µ–≤–µ –±–æ—Ä–æ—à–Ω–æ, —è–π—Ü—è, –∫–µ—Ñ—ñ—Ä, –∫–∞–∫–∞–æ, —Ü—É–∫—Ä–æ–∑–∞–º—ñ–Ω–Ω–∏–∫–∏ (–µ—Ä–∏—Ç—Ä–æ–ª, —Å—Ç–µ–≤—ñ—è), –≤–∏—à–Ω—è, –∫—Ä–æ—Ö–º–∞–ª—å, –∫—Ä–µ–º-—Å–∏—Ä, —Å–∏—Ä —Ä—ñ–∫–æ—Ç–∞, –≤–µ—Ä—à–∫–∏',
        –∫–±–∂–≤: '187 / 7.2 / 14.8 / 6.5',
        –≤–∞—Ä—ñ–∞–Ω—Ç–∏: [0.65],
        images: ['bento-tort-vyshnia1.jpg'],
        categoryId: 'bento-torts',
      },
    ],
  },
  {
    category: 'Fit-–ü–∞—Å–∫–∏',
    categoryId: 'fit-pasky',
    categoryImg: 'fit-pasky.webp',
    –∞–∫—Ü—ñ—è: '', // –î–æ–¥–∞–Ω–æ –ø–æ—Ä–æ–∂–Ω—î –ø–æ–ª–µ –∞–∫—Ü—ñ—è
    categoryDescription: [
      '–ü–∞—Å–∫–∏ –±–µ–∑ —Ü—É–∫—Ä—É, –∑ –≤–∏—Å–æ–∫–∏–º –≤–º—ñ—Å—Ç–æ–º –±—ñ–ª–∫–∞ ‚Äî —Ü–µ —Å–º–∞—á–Ω–∞ –π –∫–æ—Ä–∏—Å–Ω–∞ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ —Ç—Ä–∞–¥–∏—Ü—ñ–π–Ω—ñ–π –≤–∏–ø—ñ—á—Ü—ñ.',
      '–ü—ñ–¥—Ö–æ–¥—è—Ç—å –¥–ª—è —Ç–∏—Ö, —Ö—Ç–æ –¥–æ—Ç—Ä–∏–º—É—î—Ç—å—Å—è –∑–¥–æ—Ä–æ–≤–æ–≥–æ —Ö–∞—Ä—á—É–≤–∞–Ω–Ω—è.',
    ],
    categoryList: [
      {
        –Ω–∞–∑–≤–∞: '–®–æ–∫–æ–ª–∞–¥–Ω–∞',
        —Ü—ñ–Ω–∞: 450,
        —Å–∫–ª–∞–¥:
          '–Ø–π—Ü—è, –µ—Ä–∏—Ç—Ä–æ–ª, –∫–æ–∫–æ—Å–æ–≤–µ –º–∞—Å–ª–æ, –º–æ–ª–æ–∫–æ, —Å–º–µ—Ç–∞–Ω–∞, –∫—É–∫—É—Ä—É–¥–∑—è–Ω–∏–π –∫—Ä–æ—Ö–º–∞–ª—å, —Ä–æ–∑–ø—É—à—É–≤–∞—á, —Ä–∏—Å–æ–≤–µ –±–æ—Ä–æ—à–Ω–æ, –º–∏–≥–¥–∞–ª–µ–≤–µ –±–æ—Ä–æ—à–Ω–æ, –∫—É–∫—É—Ä—É–¥–∑—è–Ω–µ –±–æ—Ä–æ—à–Ω–æ, –∫–∞–∫–æ, —Å—É—Ö–µ –∑–Ω–µ–∂–∏—Ä–µ–Ω–µ –º–æ–ª–æ–∫–æ',
        –∫–±–∂–≤: '156.7 / 10.6 / 5.9 / 14.7',
        –≤–∞—Ä—ñ–∞–Ω—Ç–∏: [0.4, 0.6, 0.9],
        images: ['fit-paska-shokolad1.jpg'],
        categoryId: 'fit-pasky',
      },
      {
        –Ω–∞–∑–≤–∞: '–°–∏—Ä–Ω–∞',
        —Ü—ñ–Ω–∞: 450,
        —Å–∫–ª–∞–¥:
          '–∫–∏—Å–ª–æ–º–æ–ª–æ—á–Ω–∏–π —Å–∏—Ä, —è–π—Ü—è, –∫–æ–∫–æ—Å–æ–≤–µ –º–∞—Å–ª–æ, –µ—Ä–∏—Ç—Ä–æ–ª, —Ä–æ–∑–ø—É—à—É–≤–∞—á, —Ä–∏—Å–æ–≤–µ –±–æ—Ä–æ—à–Ω–æ, –∫—É–∫—É—Ä—É–¥–∑—è–Ω–µ –±–æ—Ä–æ—à–Ω–æ, –º–∏–≥–¥–∞–ª–µ–≤–µ –±–æ—Ä–æ—à–Ω–æ, —Å—É—Ö–µ –∑–Ω–µ–∂–∏—Ä–µ–Ω–µ –º–æ–ª–æ–∫–æ',
        –∫–±–∂–≤: '156.7 / 10.6 / 5.9 / 14.7',
        –≤–∞—Ä—ñ–∞–Ω—Ç–∏: [0.4, 0.6, 0.9],
        images: ['fit-paska-syrna1.jpg'],
        categoryId: 'fit-pasky',
      },
      {
        –Ω–∞–∑–≤–∞: '–ê–ø–µ–ª—å—Å–∏–Ω–æ–≤–∞ –∑ –º–∞–∫–æ–º',
        —Ü—ñ–Ω–∞: 450,
        —Å–∫–ª–∞–¥:
          '—Å—ñ–∫ –∞–ø–µ–ª—å—Å–∏–Ω–æ–≤–∏–π, —Ä–∏—Å–æ–≤–µ –±–æ—Ä–æ—à–Ω–æ, –∫—É–∫—É—Ä—É–¥–∑—è–Ω–∏–π –∫—Ä–æ—Ö–º–∞–ª—å, –∫—É–∫—É—Ä—É–¥–∑—è–Ω–µ –±–æ—Ä–æ—à–Ω–æ, –º–∏–≥–¥–∞–ª–µ–≤–µ –±–æ—Ä–æ—à–Ω–æ, —Ä–æ–∑–ø—É—à—É–≤–∞—á, –º–æ–ª–æ–∫–æ, –∫–æ–∫–æ—Å–æ–≤–µ –º–∞—Å–ª–æ, –µ—Ä–∏—Ç—Ä–æ–ª, —Å—Ç–µ–≤—ñ—è, –º–∞–∫, —Å—É—Ö–µ –∑–Ω–µ–∂–∏—Ä–µ–Ω–µ –º–æ–ª–æ–∫–æ',
        –∫–±–∂–≤: '223 / 12.9 / 7.8 / 25',
        –≤–∞—Ä—ñ–∞–Ω—Ç–∏: [0.4, 0.6, 0.9],
        images: ['fit-paska-apelsyn1.jpg'],
        categoryId: 'fit-pasky',
      },
      {
        –Ω–∞–∑–≤–∞: '–ó –∫—É—Ä–∞–≥–æ—é —Ç–∞ –±—ñ–ª–∏–º —à–æ–∫–æ–ª–∞–¥–æ–º',
        —Ü—ñ–Ω–∞: 450,
        —Å–∫–ª–∞–¥:
          '—Ü—ñ–ª—å–Ω–æ–∑–µ—Ä–Ω–æ–≤–µ –ø—à–µ–Ω–∏—á–Ω–µ –±–æ—Ä–æ—à–Ω–æ, –º–∏–≥–¥–∞–ª–µ–≤–µ –±–æ—Ä–æ—à–Ω–æ, –∫—É–∫—É—Ä—É–¥–∑—è–Ω–µ –±–æ—Ä–æ—à–Ω–æ, —è–π—Ü—è, —Ä—è–∂–µ–Ω–∫–∞, —Å—Ç–µ–≤—ñ—è, –µ—Ä–∏—Ç—Ä–æ–ª, —Ä–æ–∑–ø—É—à—É–≤–∞—á, –∫—É–∫—É—Ä—É–¥–∑—è–Ω–∏–π –∫—Ä–æ—Ö–º–∞–ª—å, —Å—É—Ö–µ –∑–Ω–µ–∂–∏—Ä–µ–Ω–µ –º–æ–ª–æ–∫–æ',
        –∫–±–∂–≤: '172 / 8.1 / 4.7 / 27.8',
        –≤–∞—Ä—ñ–∞–Ω—Ç–∏: [0.5, 1],
        images: ['fit-paska-kuraha1.jpg'],
        categoryId: 'fit-pasky',
      },
      {
        –Ω–∞–∑–≤–∞: '–ö—Ä–∞—Ñ—ñ–Ω',
        —Ü—ñ–Ω–∞: 450,
        —Å–∫–ª–∞–¥:
          '–ö–∏—Å–ª–æ–º–æ–ª–æ—á–Ω–∏–π —Å–∏—Ä, –∫–æ–∫–æ—Å–æ–≤–µ –º–∞—Å–ª–æ, —è–π—Ü—è, —Ä–∏—Å–æ–≤–µ –±–æ—Ä–æ—à–Ω–æ, –∫—É–∫—É—Ä—É–¥–∑—è–Ω–µ –±–æ—Ä–æ—à–Ω–æ, —Ü—ñ–ª—å–Ω–æ–∑–µ—Ä–Ω–æ–≤–µ –ø—à–µ–Ω–∏—á–Ω–µ –±–æ—Ä–æ—à–Ω–æ, –∫–∞–∫–æ, —Ä–æ–∑–ø—É—à—É–≤–∞—á, –µ—Ä–∏—Ç—Ä–æ–ª, —Å—Ç–µ–≤—ñ—è, –≤–æ–ª–æ—Å—å–∫—ñ –≥–æ—Ä—ñ—Ö–∏, –±—ñ–ª–∏–π —à–æ–∫–æ–ª–∞–¥ –±–µ–∑ —Ü—É–∫—Ä—É, –≤–µ—Ä—à–∫–∏, –∞—Ä–∞—Ö—ñ—Å–æ–≤–∞ –ø–∞—Å—Ç–∞',
        –∫–±–∂–≤: '306 / 13.6 / 17 / 29.8',
        –≤–∞—Ä—ñ–∞–Ω—Ç–∏: [0.5, 1],
        images: ['fit-paska-krafin1.webp'],
        categoryId: 'fit-pasky',
      },
    ],
  },
  {
    category: '–ú–∞–¥–ª–µ–Ω–∏',
    categoryId: 'madleny',
    categoryImg: 'madleny.webp',
    –∞–∫—Ü—ñ—è: '', // –î–æ–¥–∞–Ω–æ –ø–æ—Ä–æ–∂–Ω—î –ø–æ–ª–µ –∞–∫—Ü—ñ—è
    categoryDescription: [
      '–§—Ä–∞–Ω—Ü—É–∑—å–∫–µ –ø–µ—á–∏–≤–æ —É –Ω–æ–≤–æ–º—É –∑–¥–æ—Ä–æ–≤–æ–º—É —Ñ–æ—Ä–º–∞—Ç—ñ.',
      '–ú–∞–¥–ª–µ–Ω–∏ ‚Äî –ª–µ–≥–∫–∏–π, –Ω—ñ–∂–Ω–∏–π –¥–µ—Å–µ—Ä—Ç –±–µ–∑ —Ü—É–∫—Ä—É –∑ —É–Ω—ñ–∫–∞–ª—å–Ω–∏–º–∏ —Å–º–∞–∫–∞–º–∏.',
    ],
    categoryList: [
      {
        –Ω–∞–∑–≤–∞: '–°–Ω—ñ–∫–µ—Ä—Å',
        —Ü—ñ–Ω–∞: 75,
        —Å–∫–ª–∞–¥: '–ö–∞—Ä–∞–º–µ–ª—å, –∞—Ä–∞—Ö—ñ—Å–æ–≤–∞ –ø–∞—Å—Ç–∞',
        –∫–±–∂–≤: '97 / 2.8 / 5.6 / 8.5',
        –≤–∞–≥–∞: '80',
        images: ['madlen-snikers1.webp'],
        –∞–∫—Ü—ñ—è: {
          —Ç–µ—Ä–º—ñ–Ω: '31.08.2025',
          —Ü—ñ–Ω–∞: 60,
          —É–º–æ–≤–∞: '–ó–∞ —É–º–æ–≤–∏ –ø—Ä–∏–¥–±–∞–Ω–Ω—è 6 —à—Ç. —ñ –±—ñ–ª—å—à–µ',
        },
        categoryId: 'madleny',
      },
      {
        –Ω–∞–∑–≤–∞: '–í–∏—à–Ω—è-—à–æ–∫–æ–ª–∞–¥',
        —Ü—ñ–Ω–∞: 75,
        —Å–∫–ª–∞–¥: '',
        –∫–±–∂–≤: '78 / 2 / 6.1 / 10',
        –≤–∞–≥–∞: '80',
        images: ['madlen-vyshnia1.webp'],
        categoryId: 'madleny',
      },
      {
        –Ω–∞–∑–≤–∞: '–ö–æ–∫–æ—Å',
        —Ü—ñ–Ω–∞: 75,
        —Å–∫–ª–∞–¥: '',
        –∫–±–∂–≤: '88 / 2.1 / 7 / 9.8',
        –≤–∞–≥–∞: '80',
        images: ['madlen-kokos1.jpg'],
        categoryId: 'madleny',
      },
    ],
  },
  {
    category: 'Cookies',
    categoryId: 'cookies',
    categoryImg: 'cookies.webp',
    –∞–∫—Ü—ñ—è: '', // –î–æ–¥–∞–Ω–æ –ø–æ—Ä–æ–∂–Ω—î –ø–æ–ª–µ –∞–∫—Ü—ñ—è
    categoryDescription: [
      '–ö–æ—Ä–∏—Å–Ω–µ –ø–µ—á–∏–≤–æ –±–µ–∑ —Ü—É–∫—Ä—É ‚Äî —ñ–¥–µ–∞–ª—å–Ω–∏–π –ø–µ—Ä–µ–∫—É—Å –∑ –±–∞–ª–∞–Ω—Å–æ–º –º–∞–∫—Ä–æ–µ–ª–µ–º–µ–Ω—Ç—ñ–≤, —è–∫–µ –ø–æ—î–¥–Ω—É—î —Å–º–∞–∫ —ñ –∫–æ—Ä–∏—Å—Ç—å.',
    ],
    categoryList: [
      {
        –Ω–∞–∑–≤–∞: '–ú–æ—Ä–∫–≤—è–Ω–µ',
        —Ü—ñ–Ω–∞: 50,
        —Å–∫–ª–∞–¥: '',
        –∫–±–∂–≤: '161 / 4.5 / 7.7 / 20.5',
        –≤–∞–≥–∞: '80',
        images: ['cookies-morkva1.jpg'],
        categoryId: 'cookies',
      },
      {
        –Ω–∞–∑–≤–∞: '–ú–∏–≥–¥–∞–ª—å-–∫–æ–∫–æ—Å',
        —Ü—ñ–Ω–∞: 50,
        —Å–∫–ª–∞–¥: '',
        –∫–±–∂–≤: '219 / 7.5 / 12.1 / 21.5',
        –≤–∞–≥–∞: '80',
        images: ['cookies-myhdal-kokos1.jpg'],
        categoryId: 'cookies',
      },
      {
        –Ω–∞–∑–≤–∞: '–ë–∞—É–Ω—Ç—ñ',
        —Ü—ñ–Ω–∞: 50,
        —Å–∫–ª–∞–¥: '',
        –∫–±–∂–≤: '203 / 6.1 / 10.8 / 25',
        –≤–∞–≥–∞: '80',
        images: ['cookies-bounti1.jpg'],
        categoryId: 'cookies',
      },
      {
        –Ω–∞–∑–≤–∞: '–°–Ω—ñ–∫–µ—Ä—Å',
        —Ü—ñ–Ω–∞: 50,
        —Å–∫–ª–∞–¥: '',
        –∫–±–∂–≤: '212 / 7.6 / 9.3 / 24.4',
        –≤–∞–≥–∞: '80',
        images: ['cookies-snikers1.jpg'],
        categoryId: 'cookies',
      },
      {
        –Ω–∞–∑–≤–∞: '–í–∏—à–Ω—è-—à–æ–∫–æ–ª–∞–¥',
        —Ü—ñ–Ω–∞: 50,
        —Å–∫–ª–∞–¥: '',
        –∫–±–∂–≤: '172 / 4.9 / 8.2 / 23',
        –≤–∞–≥–∞: '80',
        images: ['cookies-vyshnia1.jpg'],
        categoryId: 'cookies',
      },
    ],
  },
  {
    category: 'Fit MOTI',
    categoryId: 'fit-moti',
    categoryImg: 'fit-moti.webp',
    –∞–∫—Ü—ñ—è: {
      —Ç–µ—Ä–º—ñ–Ω: '31.08.2025',
      —É–º–æ–≤–∏: [
        '–≤—ñ–¥ 4 —à—Ç - 82.5 ‚Ç¥/—à—Ç',
        '–≤—ñ–¥ 6 —à—Ç - 80 ‚Ç¥/—à—Ç',
        '–≤—ñ–¥ 8 —à—Ç - 77.5 ‚Ç¥/—à—Ç',
        '–≤—ñ–¥ 12 —à—Ç - 75 ‚Ç¥/—à—Ç',
      ],
    },
    categoryDescription: [
      '–ö–æ—Ä–∏—Å–Ω–∞ –≤–µ—Ä—Å—ñ—è —Ç—Ä–∞–¥–∏—Ü—ñ–π–Ω–∏—Ö —è–ø–æ–Ω—Å—å–∫–∏—Ö —Å–æ–ª–æ–¥–æ—â—ñ–≤.',
      '–°–ø—Ä–∞–≤–∂–Ω—è –Ω–∞—Å–æ–ª–æ–¥–∞ –∑ –µ–∫–∑–æ—Ç–∏—á–Ω–∏–º–∏ —Å–º–∞–∫–∞–º–∏, –±—ñ–ª–∫–æ–º —Ç–∞ –Ω–∞—Ç—É—Ä–∞–ª—å–Ω–∏–º–∏ —Å–∫–ª–∞–¥–Ω–∏–∫–∞–º–∏.',
      '–õ–µ–≥–∫–∏–π, –Ω—ñ–∂–Ω–∏–π –¥–µ—Å–µ—Ä—Ç, —Ç–∞–Ω–µ —É —Ä–æ—Ç—ñ –Ω–µ–º–æ–≤ —Ä–æ–∑—Ç–æ–ø–ª–µ–Ω–µ –º–æ—Ä–æ–∑–∏–≤–æ.',
      '–ê–ª–µ —É –ø–æ—Ä—ñ–≤–Ω—è–Ω–Ω—ñ –∑ –º–æ—Ä–æ–∑–∏–≤–æ–º - –Ω–∏–∑—å–∫–æ–∫–∞–ª–æ—Ä—ñ–π–Ω–µ, –±–µ–∑ —Ü—É–∫—Ä—É —Ç–∞ –∑–±–∞–ª–∞–Ω—Å–æ–≤–∞–Ω–µ.',
      '–£–ª—é–±–ª–µ–Ω–∏–π –¥–µ—Å–µ—Ä—Ç –ª—ñ—Ç–∞ –±–∞–≥–∞—Ç—å–æ—Öüçöüçßüç®',
      '–¢–µ—Ä–º—ñ–Ω –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è –ø—ñ—Å–ª—è —Ä–æ–∑–º–æ—Ä–æ–∑–∫–∏ - 48–≥–æ–¥–∏–Ω —É —Ö–æ–ª–æ–¥–∏–ª—å–Ω–∏–∫—É.',
      '–ó–±–µ—Ä—ñ–≥–∞—Ç–∏ –≤ —É–ø–∞–∫–æ–≤—Ü—ñ –∞–±–æ –≥–µ—Ä–º–µ—Ç–∏—á–Ω–æ –∑–∞–∫—Ä–∏—Ç—ñ –ø–ª—ñ–≤–∫–æ—é.',
      '–£ –º–æ—Ä–æ–∑–∏–ª—å–Ω—ñ–π –∫–∞–º–µ—Ä—ñ - 2 —Ç–∏–∂–Ω—ñ, –∞–ª–µ —Ç–∞–∫–æ–∂ –≥–µ—Ä–º–µ—Ç–∏—á–Ω–æ –∑–∞–ø–∞–∫–æ–≤–∞–Ω—ñ —Ö–∞—Ä—á–æ–≤–æ—é –ø–ª—ñ–≤–∫–æ—é',
    ],
    categoryList: [
      {
        –Ω–∞–∑–≤–∞: '–ü–æ–ª—É–Ω–∏—á–Ω–∏–π –ø–ª–æ–º–±—ñ—Ä',
        —Ü—ñ–Ω–∞: 90,
        —Å–∫–ª–∞–¥:
          '–ë–æ—Ä–æ—à–Ω–æ –∫–ª–µ–π–∫–æ–≥–æ —Ä–∏—Å—É, –∫—É–∫—É—Ä—É–¥–∑—è–Ω–∏–π –∫—Ä–æ—Ö–º–∞–ª—å, –æ–ª–∏–≤–∫–æ–≤–∞ –æ–ª—ñ—è, –∫—Ä–µ–º-—Å–∏—Ä, –ø–æ–ª—É–Ω–∏—Ü—è, –ø—Ä–æ—Ç–µ—ó–Ω, –≤–µ—Ä—à–∫–∏, –ø—Ä–æ—Ç–µ—ó–Ω–æ–≤–∏–π –ø–æ–ª—É–Ω–∏—á–Ω–∏–π –π–æ–≥—É—Ä–∏, —à–æ–∫–æ–ª–∞–¥ –±–µ–∑ —Ü—É–∫—Ä—É, —Å—Ç–µ–≤—ñ—è, –µ—Ä–∏—Ç—Ä–æ–ª',
        –∫–±–∂–≤: '100.5 / 3.5 / 5.14 / 11.7',
        –≤–∞–≥–∞: '80',
        images: ['fit-moti-polunytsia1.jpg'],
        categoryId: 'fit-moti',
      },
      {
        –Ω–∞–∑–≤–∞: '–û—Ä–µ–æ',
        —Ü—ñ–Ω–∞: 90,
        —Å–∫–ª–∞–¥:
          '–ë–æ—Ä–æ—à–Ω–æ –∫–ª–µ–π–∫–æ–≥–æ —Ä–∏—Å—É, –∫—É–∫—É—Ä—É–¥–∑—è–Ω–∏–π –∫—Ä–æ—Ö–º–∞–ª—å, –æ–ª–∏–≤–∫–æ–≤–∞ –æ–ª—ñ—è, –∫—Ä–µ–º-—Å–∏—Ä, –ø–µ—á–∏–≤–æ –æ—Ä–µ–æ –±–µ–∑ —Ü—É–∫—Ä—É, –ø—Ä–æ—Ç–µ—ó–Ω, –∂–µ–ª–∞—Ç–∏–Ω, –≤–µ—Ä—à–∫–∏, –∑–≥—É—â–µ–Ω–µ –∫–æ–∫–æ—Å–æ–≤–µ –º–æ–ª–æ–∫–æ, —Å—Ç–µ–≤—ñ—è, –µ—Ä–∏—Ç—Ä–æ–ª',
        –∫–±–∂–≤: '115.6 / 5.8 / 4.9 / 12.4',
        –≤–∞–≥–∞: '80',
        images: ['fit-moti-oreo1.jpg'],
        categoryId: 'fit-moti',
      },
      {
        –Ω–∞–∑–≤–∞: '–ú–∞–Ω–≥–æ-—á—ñ–∞',
        —Ü—ñ–Ω–∞: 90,
        —Å–∫–ª–∞–¥:
          '–ë–æ—Ä–æ—à–Ω–æ –∫–ª–µ–π–∫–æ–≥–æ —Ä–∏—Å—É, –ø—é—Ä–µ –º–∞–Ω–≥–æ, –∫—É–∫—É—Ä—É–¥–∑—è–Ω–∏–π –∫—Ä–æ—Ö–º–∞–ª—å, –æ–ª–∏–≤–∫–æ–≤–∞ –æ–ª—ñ—è, –∫—Ä–µ–º-—Å–∏—Ä, –≤–µ—Ä—à–∫–∏, –ø—Ä–æ—Ç–µ—ó–Ω, –º–æ–ª–æ–∫–æ, –∑–µ—Ä–Ω–∞ —á—ñ–∞, –∂–µ–ª–∞—Ç–∏–Ω, —Å—Ç–µ–≤—ñ—è, –µ—Ä–∏—Ç—Ä–æ–ª',
        –∫–±–∂–≤: '92.6 / 4 / 3.8 / 10.2',
        –≤–∞–≥–∞: '80',
        images: ['fit-moti-mango-—Åhia1.jpg'],
        categoryId: 'fit-moti',
      },
      {
        –Ω–∞–∑–≤–∞: '–ú–∞–Ω–≥–æ-–º–∞—Ä–∞–∫—É—è-–∫–æ–∫–æ—Å',
        —Ü—ñ–Ω–∞: 90,
        —Å–∫–ª–∞–¥:
          '–ë–æ—Ä–æ—à–Ω–æ –∫–ª–µ–π–∫–æ–≥–æ —Ä–∏—Å—É, —Å–º–æ—Ä–æ–¥–∏–Ω–∞, –∫—É–∫—É—Ä—É–¥–∑—è–Ω–∏–π –∫—Ä–æ—Ö–º–∞–ª—å, –æ–ª–∏–≤–∫–æ–≤–∞ –æ–ª—ñ—è, –∫—Ä–µ–º-—Å–∏—Ä, –ø—Ä–æ—Ç–µ—ó–Ω, –≤–µ—Ä—à–∫–∏, –∂–µ–ª–∞—Ç–∏–Ω, –≤–∞–Ω—ñ–ª—å, —à–æ–∫–æ–ª–∞–¥ –±–µ–∑ —Ü—É–∫—Ä—É, —Å—Ç–µ–≤—ñ—è, –µ—Ä–∏—Ç—Ä–æ–ª',
        –∫–±–∂–≤: '108.6 / 3.5 / 5.9 / 16.3',
        –≤–∞–≥–∞: '80',
        images: ['fit-moti-mango-smorodyna1.jpg'],
        categoryId: 'fit-moti',
      },
      {
        –Ω–∞–∑–≤–∞: '–ú–∞–Ω–≥–æ-–º–∞—Ä–∞–∫—É—è-–∫–æ–∫–æ—Å',
        —Ü—ñ–Ω–∞: 90,
        —Å–∫–ª–∞–¥:
          '–ü—é—Ä–µ –º–∞–Ω–≥–æ, –ø—é—Ä–µ –º–∞—Ä–∞–∫—É—ó, –∫–æ–∫–æ—Å–æ–≤–∞ —Å—Ç—Ä—É–∂–∫–∞, –ø—Ä–æ—Ç–µ—ó–Ω, —Å–∏—Ä —Ä—ñ–∫–æ—Ç—Ç–∞, –≤–µ—Ä—à–∫–æ–≤–∏   —Å–∏—Ä, –±—ñ–ª–∏–π —à–æ–∫–æ–ª–∞–¥ –±–µ–∑ —Ü—É–∫—Ä—É, –∂–µ–ª–∞—Ç–∏–Ω, –±–æ—Ä–æ—à–Ω–æ –∫–ª–µ–π–∫–æ–≥–æ —Ä–∏—Å—É, –æ–ª–∏–≤–∫–æ–≤–∞ –æ–ª—ñ—è, –ø–µ–∫—Ç–∏–Ω, —Å–æ—î–≤–∏–π –±—ñ–ª–æ–∫, —Å—Ç–µ–≤—ñ—è, –µ—Ä–∏—Ç—Ä–æ–ª',
        –∫–±–∂–≤: '100 / 6.6 / 3.4 / 11.2',
        –≤–∞–≥–∞: '80',
        images: ['fit-moti-mango-kokos1.jpg'],
        categoryId: 'fit-moti',
      },
      {
        –Ω–∞–∑–≤–∞: 'Rafaello',
        —Ü—ñ–Ω–∞: 90,
        —Å–∫–ª–∞–¥:
          '–ö–æ–∫–æ—Å–æ–≤–∞ —Å—Ç—Ä—É–∂–∫–∞, –∫–æ–∫–æ—Å–æ–≤—ñ –≤–µ—Ä—à–∫–∏, –º–∏–≥–¥–∞–ª—å, —Å–∏—Ä —Ä—ñ–∫–æ—Ç—Ç–∞, –≤–µ—Ä—à–∫–æ–≤–∏–π —Å–∏—Ä, –ø—Ä–æ—Ç–µ—ó–Ω, —Å–æ—î–≤–∏–π –±—ñ–ª–æ–∫, —à–æ–∫–æ–ª–∞–¥ –±–µ–∑ —Ü—É–∫—Ä—É, –∂–µ–ª–∞—Ç–∏–Ω, –±–æ—Ä–æ—à–Ω–æ –∫–ª–µ–π–∫–æ–≥–æ —Ä–∏—Å—É, –æ–ª–∏–≤–∫–æ–≤–∞ –æ–ª—ñ—è, —Å—Ç–µ–≤—ñ—è, –µ—Ä–∏—Ç—Ä–æ–ª',
        –∫–±–∂–≤: '126 / 7 / 6.6 / 9.7',
        –≤–∞–≥–∞: '80',
        images: ['fit-moti-rafaello1.jpg'],
        categoryId: 'fit-moti',
      },
      {
        –Ω–∞–∑–≤–∞: '–§—ñ—Å—Ç–∞—à–∫–∞',
        —Ü—ñ–Ω–∞: 90,
        —Å–∫–ª–∞–¥:
          '–§—ñ—Å—Ç–∞—à–∫–∞, –≤–µ—Ä—à–∫–æ–≤–∏–π —Å–∏—Ä, –∂–µ–ª–∞—Ç–∏–Ω, —Å–∏—Ä —Ä—ñ–∫–æ—Ç—Ç–∞, –ø—Ä–æ—Ç–µ—ó–Ω, —Å–æ—î–≤–∏–π –±—ñ–ª–æ–∫, –∫—Ä–µ–º-—Å–∏—Ä, —à–æ–∫–æ–ª–∞–¥ –±–µ–∑ —Ü—É–∫—Ä—É, –±–æ—Ä–æ—à–Ω–æ –∫–ª–µ–π–∫–æ–≥–æ —Ä–∏—Å—É, –æ–ª–∏–≤–∫–æ–≤–∞ –æ–ª—ñ—è, —Å—Ç–µ–≤—ñ—è, –µ—Ä–∏—Ç—Ä–æ–ª',
        –∫–±–∂–≤: '133 / 7.5 / 6.3 / 11.8',
        –≤–∞–≥–∞: '80',
        images: ['fit-moti-fistashka1.jpg'],
        categoryId: 'fit-moti',
      },
      {
        –Ω–∞–∑–≤–∞: '–ö–∞–≤–∞-–∫–∞—Ä–∞–º–µ–ª—å',
        —Ü—ñ–Ω–∞: 90,
        —Å–∫–ª–∞–¥:
          '–ö–∞—Ä–∞–º–µ–ª—å –±–µ–∑ —Ü—É–∫—Ä—É, –∫–∞–≤–∞, –∂–µ–ª–∞—Ç–∏–Ω, –∫–æ–∫–æ—Å–æ–≤–µ –º–∞—Å–ª–æ, —Å–∏—Ä —Ä—ñ–∫–æ—Ç—Ç–∞, –≤–µ—Ä—à–∫–æ–≤–∏–π —Å–∏—Ä, –ø—Ä–æ—Ç–µ—ó–Ω, —è—î—á–Ω–∏–π –±—ñ–ª–æ–∫, —Å–æ—î–≤–∏–π –±—ñ–ª–æ–∫, –ø—Ä–æ—Ç–µ—ó–Ω, –º–æ–ª–æ–∫–æ, –±—ñ–ª–∏–π —à–æ–∫–æ–ª–∞–¥ –±–µ–∑ —Ü—É–∫—Ä—É, –±–æ—Ä–æ—à–Ω–æ –∫–ª–µ–π–∫–æ–≥–æ —Ä–∏—Å—É, –æ–ª–∏–≤–∫–æ–≤–∞ –æ–ª—ñ—è, —Å—Ç–µ–≤—ñ—è, –µ—Ä–∏—Ç—Ä–æ–ª',
        –∫–±–∂–≤: '100 / 6.6 / 3.4 / 11.2',
        –≤–∞–≥–∞: '80',
        images: ['fit-moti-kava1.jpg'],
        categoryId: 'fit-moti',
      },
    ],
  },
  {
    category: '–ë—Ä–∞—É–Ω—ñ',
    categoryId: 'protein-brownies',
    categoryImg: 'protein-brownies.webp',
    –∞–∫—Ü—ñ—è: '', // –î–æ–¥–∞–Ω–æ –ø–æ—Ä–æ–∂–Ω—î –ø–æ–ª–µ –∞–∫—Ü—ñ—è
    categoryDescription: [
      '–ü—Ä–æ—Ç–µ—ó–Ω–æ–≤—ñ –±—Ä–∞—É–Ω—ñ ‚Äî —Å–∏—Ç–Ω–∏–π —ñ –∫–æ—Ä–∏—Å–Ω–∏–π –¥–µ—Å–µ—Ä—Ç –±–µ–∑ —Ü—É–∫—Ä—É.',
      '–Ü–¥–µ–∞–ª—å–Ω–∏–π –¥–ª—è —Å–ø–æ—Ä—Ç—Å–º–µ–Ω—ñ–≤ —ñ –ø—Ä–∏—Ö–∏–ª—å–Ω–∏–∫—ñ–≤ –∑–¥–æ—Ä–æ–≤–æ–≥–æ —Å–ø–æ—Å–æ–±—É –∂–∏—Ç—Ç—è.',
      '–¶–µ–π –¥–µ—Å–µ—Ä—Ç –º—ñ—Å—Ç–∏—Ç—å –≤–µ–ª–∏–∫—É –∫—ñ–ª—å–∫—ñ—Å—Ç—å –±—ñ–ª–∫–∞. –£ –π–æ–≥–æ —Å–∫–ª–∞–¥—ñ —î –ø—Ä–æ—Ç–µ—ó–Ω, –∑–∞–≤–¥—è–∫–∏ —á–æ–º—É, –∑`—ó–≤—à–∏ —à–º–∞—Ç–æ—á–æ–∫ –±—Ä–∞—É–Ω—ñ, –≤–∏ –º–æ–∂–µ—Ç–µ –ª–µ–≥–∫–æ –ø–æ–ø–æ–≤–Ω–∏—Ç–∏ –∑–∞–ø–∞—Å–∏ –±—ñ–ª–∫–∞ –≤ –æ—Ä–≥–∞–Ω—ñ–∑–º—ñ.',
      '–ë—ñ–ª–æ–∫ ‚Äî —Ü–µ –º–∞–∫—Ä–æ–Ω—É—Ç—Ä—ñ—î–Ω—Ç, —è–∫–∏–π –º–∏ —á–∞—Å—Ç–æ –Ω–µ –¥–æ–±–∏—Ä–∞—î–º–æ —É —â–æ–¥–µ–Ω–Ω–æ–º—É —Ä–∞—Ü—ñ–æ–Ω—ñ. –ê –π–æ–≥–æ –¥–µ—Ñ—ñ—Ü–∏—Ç –º–æ–∂–µ –Ω–µ–≥–∞—Ç–∏–≤–Ω–æ –≤–ø–ª–∏–≤–∞—Ç–∏ –Ω–∞ —Å—Ç–∞–Ω —à–∫—ñ—Ä–∏, —Ñ—ñ–≥—É—Ä—É, —Ç—ñ–ª–æ —Ç–∞ –º`—è–∑–∏.',
      '–¢–æ–º—É —Ü–µ–π –¥–µ—Å–µ—Ä—Ç ‚Äî —á—É–¥–æ–≤–∏–π –≤–∞—Ä—ñ–∞–Ω—Ç –¥–ª—è –≤—Å—ñ—Ö, –∞ –æ—Å–æ–±–ª–∏–≤–æ –¥–ª—è —Ç–∏—Ö, —Ö—Ç–æ –∑–∞–π–º–∞—î—Ç—å—Å—è —Å–ø–æ—Ä—Ç–æ–º, —Å—Ç–µ–∂–∏—Ç—å –∑–∞ –∫–∞–ª–æ—Ä—ñ–π–Ω—ñ—Å—Ç—é —Ä–∞—Ü—ñ–æ–Ω—É —Ç–∞ –±–∞–ª–∞–Ω—Å–æ–º –º–∞–∫—Ä–æ–Ω—É—Ç—Ä—ñ—î–Ω—Ç—ñ–≤.',
    ],
    categoryList: [
      {
        –Ω–∞–∑–≤–∞: '–î—É–±–∞–π—Å—å–∫–∞ –Ω–∞—á–∏–Ω–∫–∞',
        —Ü—ñ–Ω–∞: 60,
        —Å–∫–ª–∞–¥:
          '–ú–∏–≥–¥–∞–ª–µ–≤–µ –±–æ—Ä–æ—à–Ω–æ, –ø—Ä–æ—Ç–µ—ó–Ω, –∫–∞–∫–∞–æ, —Ä–æ–∑–ø—É—à—É–≤–∞—á, —è–π—Ü—è, —Å–æ–ª–æ—Å–≤—ñ—Ç, –µ—Ä–∏—Ç—Ä–æ–ª, –π–æ–≥—É—Ä—Ç, —Ä–∏—Å–æ–≤–µ –±–æ—Ä–æ—à–Ω–æ, –∫—É–∫—É—Ä—É–¥–∑—è–Ω–∏–π –∫—Ä–æ—Ö–º–∞–ª—å, —Ñ—ñ—Å—Ç–∞—à–∫–æ–≤–∞ –ø–∞—Å—Ç–∞, —à–æ–∫–æ–ª–∞–¥ –±–µ–∑ —Ü—É–∫—Ä—É',
        –∫–±–∂–≤: '100 / 5.1 / 6 / 8',
        –≤–∞–≥–∞: '80',
        images: ['protein-browny-dubais1.jpg'],
        categoryId: 'protein-brownies',
      },
      {
        –Ω–∞–∑–≤–∞: 'Rafaello',
        —Ü—ñ–Ω–∞: 60,
        —Å–∫–ª–∞–¥:
          '–ú–∏–≥–¥–∞–ª–µ–≤–µ –±–æ—Ä–æ—à–Ω–æ, –ø—Ä–æ—Ç–µ—ó–Ω, –∫–∞–∫–∞–æ, —Ä–æ–∑–ø—É—à—É–≤–∞—á, —è–π—Ü—è, —Å–æ–ª–æ—Å–≤—ñ—Ç, –µ—Ä–∏—Ç—Ä–æ–ª, –π–æ–≥—É—Ä—Ç, –∫–æ–∫–æ—Å–æ–≤–∞ —Å—Ç—Ä—É–∂–∫–∞, –∫–æ–∫–æ—Å–æ–≤–µ –∑–≥—É—â–µ–Ω–µ –º–æ–ª–æ–∫–æ –±–µ–∑ —Ü—É–∫—Ä—É, –∫–æ–∫–æ—Å–æ–≤–µ –±–æ—Ä–æ—à–Ω–æ, —à–æ–∫–æ–ª–∞–¥ –±–µ–∑ —Ü—É–∫—Ä—É',
        –∫–±–∂–≤: '84 / 7 / 4 / 5',
        –≤–∞–≥–∞: '80',
        images: ['protein-browny-rafaello1.jpg'],
        categoryId: 'protein-brownies',
      },
      {
        –Ω–∞–∑–≤–∞: '–§—ñ–Ω—ñ–∫–æ–≤–∞ –∫–∞—Ä–∞–º–µ–ª—å',
        —Ü—ñ–Ω–∞: 60,
        —Å–∫–ª–∞–¥:
          '–ú–∏–≥–¥–∞–ª–µ–≤–µ –±–æ—Ä–æ—à–Ω–æ, –ø—Ä–æ—Ç–µ—ó–Ω, –∫–∞–∫–∞–æ, —Ä–æ–∑–ø—É—à—É–≤–∞—á, —è–π—Ü—è, —Å–æ–ª–æ—Å–≤—ñ—Ç, –µ—Ä–∏—Ç—Ä–æ–ª, –π–æ–≥—É—Ä—Ç, –∞—Ä–∞—Ö—ñ—Å–æ–≤–∞ –ø–∞—Å—Ç–∞, —Ñ—ñ–Ω—ñ–∫–∏, —à–æ–∫–æ–ª–∞–¥ –±–µ–∑ —Ü—É–∫—Ä—É',
        –∫–±–∂–≤: '98 / 6.4 / 5 / 6.3',
        –≤–∞–≥–∞: '80',
        images: ['protein-browny-finik1.jpg'],
        categoryId: 'protein-brownies',
      },
    ],
  },
  {
    category: '–¶—É–∫–µ—Ä–∫–∏',
    categoryId: 'tsukerky',
    categoryImg: 'tsukerky.webp',
    –∞–∫—Ü—ñ—è: '', // –î–æ–¥–∞–Ω–æ –ø–æ—Ä–æ–∂–Ω—î –ø–æ–ª–µ –∞–∫—Ü—ñ—è
    categoryDescription: [
      '–®–æ–∫–æ–ª–∞–¥–Ω—ñ —Ü—É–∫–µ—Ä–∫–∏, —è–∫—ñ –Ω–∞ —Ä–∞–∑—ñ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω—ñ —É 2 —Å–º–∞–∫–∞—Ö.',
      '–ê–ª–µ —Ç–∞–∫—ñ —Ä—ñ–∑–Ω—ñ —è–∫ –ø–æ —Å–∫–ª–∞–¥—É, —Ç–∞–∫ —ñ –Ω–∞ —Å–º–∞–∫.',
      '–ü—Ä–æ—Ç–µ, –∫–æ–∂–Ω–∞ –∑ –Ω–∏—Ö –ø–æ—Ç—Ä–µ–±—É—î —Ç–≤–æ—î—ó —É–≤–∞–≥–∏.',
      '–ü—Ä–æ—Ç–µ—ó–Ω–æ–≤–∞ —Ü—É–∫–µ—Ä–∫–∞ - —Ü–µ –±–æ–º–±–∞ –Ω—ñ–∂–Ω–æ–≥–æ –ø—Ä–æ—Ç–µ—ó–Ω–æ-–∫–∞—Ä–∞–º–µ–ª—å–Ω–æ–≥–æ —Å–º–∞–∫—É.',
      '–ú—ñ—Å—Ç–∏—Ç—å –≤–µ–ª–∏–∫—É –∫—ñ–ª—å–∫—ñ—Å—Ç—å –±—ñ–ª–∫—É.üí™',
      '–î—É–±–∞–π—Å—å–∫–∞ —Ü—É–∫–µ—Ä–∫–∞ - —Ö—Ä—É—Å—Ç–∫–∏–π —Ñ—ñ—Å—Ç–∞—à–∫–æ–≤–∏–π —Å–º–∞–∫, –ø—ñ–¥ —Ö—Ä—É—Å—Ç–∫–∏–º –º–æ–ª–æ—á–Ω–∏–º —à–æ–∫–æ–ª–∞–¥–æ–º.üç´',
      '–û–±–∏—Ä–∞–π, –∞–ª–µ —Ç–∏ –æ—Ü—ñ–Ω–∏—à –æ–±–∏–¥–≤–∞ —Å–º–∞–∫–∏.',
    ],
    categoryList: [
      {
        –Ω–∞–∑–≤–∞: '–ü—Ä–æ—Ç–µ—ó–Ω–æ–≤–∞',
        —Ü—ñ–Ω–∞: 60,
        —Å–∫–ª–∞–¥:
          '—à–æ–∫–æ–ª–∞–¥ –±–µ–∑ —Ü—É–∫—Ä—É, –ø—Ä–æ—Ç–µ—ó–Ω, –∞—Ä–∞—Ö—ñ—Å–æ–≤—ñ –ø–∞—Å—Ç–∞, —ñ–∑–æ–ª—è—Ç —Å–æ—î–≤–æ–≥–æ –±—ñ–ª–∫–∞',
        –∫–±–∂–≤: '140 / 9.4 / 10.8 / 11.7',
        –≤–∞–≥–∞: '80',
        images: ['tsukerky-protein.jpg'],
        categoryId: 'tsukerky',
      },
      {
        –Ω–∞–∑–≤–∞: '–î—É–±–∞–π—Å—å–∫–∞',
        —Ü—ñ–Ω–∞: 60,
        —Å–∫–ª–∞–¥:
          '—à–æ–∫–æ–ª–∞–¥ –±–µ–∑ —Ü—É–∫—Ä—É, –∞—Ä–∞—Ö—ñ—Å–æ–≤–∞ –ø–∞—Å—Ç–∞, —Ä–∏—Å–æ–≤–µ –±–æ—Ä–æ—à–Ω–æ, –æ–ª–∏–≤–∫–æ–≤–∞ –æ–ª—ñ—è, —Ñ—ñ—Å—Ç–∞—à–∫–æ–≤–∞ –ø–∞—Å—Ç–∞, –∫—É–∫—É—Ä—É–¥–∑—è–Ω–∏–π –∫—Ä–æ—Ö–º–∞–ª—å',
        –∫–±–∂–≤: '158 / 3.2 / 11.4 / 21.6',
        –≤–∞–≥–∞: '80',
        images: ['tsukerky-dubai.jpg'],
        categoryId: 'tsukerky',
      },
    ],
  },
];

// --- –î–∏–Ω–∞–º—ñ—á–Ω–∞ –∑–º—ñ–Ω–∞ —Ä–æ–∫—É —É —Ñ—É—Ç–µ—Ä—ñ ---
document.getElementById('year').textContent = new Date().getFullYear();

// --- –ó–º—ñ–Ω–Ω—ñ DOM –µ–ª–µ–º–µ–Ω—Ç—ñ–≤ ---
const body = document.body;

// Menu
const themeToggleBtn = document.getElementById('theme-toggle');
const burgerMenuBtn = document.querySelector('.burger-menu-btn');
const mobileMenuOverlay = document.getElementById('mobile-menu-overlay');
const menuContent = document.getElementById('mobile-menu-content');
const mobileMenuLinks = document.querySelector('.mobile-menu-links');
const mobileMenuCategories = document.querySelector('.mobile-menu-categories');
const burgerMenuIcon = burgerMenuBtn.querySelector('i');

// Products
const productsContainer = document.querySelector('.products-container');

// Slider
const heroSlider = document.querySelector('.hero-slider');
const sliderDotsContainer = document.querySelector('.slider-dots');
const prevSlideBtn = document.querySelector('.prev-slide');
const nextSlideBtn = document.querySelector('.next-slide');
const sliderInterval = 7000;

// Modals
const cartModal = document.getElementById('cart-modal');
const productDetailsModal = document.getElementById('product-details-modal');
const addToCartModal = document.getElementById('add-to-cart-modal');
const contactsModal = document.getElementById('contacts-modal');
const closeButtons = document.querySelectorAll('.modal .close-button');
const likedProductsModal = document.getElementById('likedProductsModal');
const openLikedProductsModalBtn = document.getElementById(
  'openLikedProductsModalBtn'
);

// Liked products
let likedProductsData = [];
const likedProductsList = document.getElementById('liked-products-list');
const likedProductsCountSpan = document.querySelector('.liked-products-count');
const confirmModal = document.getElementById('confirmModal');
const confirmRemoveYesBtn = document.getElementById('confirmRemoveYes');
const confirmRemoveNoBtn = document.getElementById('confirmRemoveNo');
let productToRemoveFromLiked = null; // Declare this variable globally or in a scope accessible by the modal handlers

// Cart elements
const cartIcon = document.querySelector('.cart-icon');
const cartCountSpan = document.querySelector('.cart-count');
const cartItemsContainer = cartModal.querySelector('.cart-items');
const cartTotalItemsSpan = cartModal.querySelector('.cart-total-items');
const cartTotalPriceSpan = cartModal.querySelector('.cart-total-price');

// Add to Cart Modal elements
const addToCartProductName = addToCartModal.querySelector(
  '.add-to-cart-product-name'
);
const addToCartProductPrice = addToCartModal.querySelector(
  '.add-to-cart-product-price'
);
const quantityInput = addToCartModal.querySelector('#quantity-input');
const weightSelect = addToCartModal.querySelector('#weight-select');
const addToCartButton = addToCartModal.querySelector('.add-to-cart-btn');

// Add to Cart Message
const addToCartMessage = document.getElementById('add-to-cart-message');
const messageTimerBar = addToCartMessage.querySelector('.message-timer-bar');
const goToCartBtn = addToCartMessage.querySelector('.go-to-cart-btn');

let currentProductToAdd = null; // –ó–±–µ—Ä—ñ–≥–∞—î –ø–æ—Ç–æ—á–Ω–∏–π –ø—Ä–æ–¥—É–∫—Ç, —â–æ –¥–æ–¥–∞—î—Ç—å—Å—è –≤ –∫–æ—à–∏–∫

// Checkout
const checkoutButton = document.getElementById('checkout-button');
const orderModal = document.getElementById('order-modal');
const editOrder = document.getElementById('edit-order-button');

///! --- –§—É–Ω–∫—Ü—ñ—ó –¥–ª—è —Ä–æ–±–æ—Ç–∏ –∑ Local Storage —Ç–∞ –∫–æ—à–∏–∫–æ–º ---
const loadCart = () => {
  try {
    return JSON.parse(localStorage.getItem('fitcakes-cart')) || [];
  } catch (e) {
    console.error('–ü–æ–º–∏–ª–∫–∞ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –∫–æ—à–∏–∫–∞:', e);
    return [];
  }
};

/**
 * –ü–µ—Ä–µ–≤—ñ—Ä—è—î, —á–∏ –∞–∫—Ü—ñ—è —â–µ –¥—ñ–π—Å–Ω–∞
 * @param {string} endDate - –î–∞—Ç–∞ –∑–∞–∫—ñ–Ω—á–µ–Ω–Ω—è –∞–∫—Ü—ñ—ó (DD.MM.YYYY –∞–±–æ YYYY-MM-DD)
 * @param {Date} [currentDate] - –û–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ: –¥–∞—Ç–∞ –¥–ª—è –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ (–∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º ‚Äî –ø–æ—Ç–æ—á–Ω–∞)
 * @returns {boolean} - true, —è–∫—â–æ –∞–∫—Ü—ñ—è –¥—ñ–π—Å–Ω–∞
 */
function isPromotionActive(endDate, currentDate = new Date()) {
  if (!endDate) {
    return false;
  }

  let day, month, year;
  if (endDate.includes('.')) {
    [day, month, year] = endDate.split('.').map(Number); // DD.MM.YYYY
  } else {
    [year, month, day] = endDate.split('-').map(Number); // YYYY-MM-DD
  }

  const promotionEnd = new Date(year, month - 1, day, 23, 59, 59, 999);
  const isActive = currentDate <= promotionEnd;

  return isActive;
}

/**
 * –û—Ç—Ä–∏–º—É—î –∞–∫—Ü—ñ–π–Ω—É —Ü—ñ–Ω—É –¥–ª—è –ø—Ä–æ–¥—É–∫—Ç—É (—è–∫—â–æ —î –∑–Ω–∏–∂–∫–∞ –Ω–∞ –∫–∞—Ç–µ–≥–æ—Ä—ñ—é –∞–±–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∏–π —Ç–æ–≤–∞—Ä)
 * @param {string} categoryId - ID –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó
 * @param {string} productName - –ù–∞–∑–≤–∞ –ø—Ä–æ–¥—É–∫—Ç—É (–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ, —è–∫—â–æ –ø–æ—Ç—Ä—ñ–±–Ω–∞ –∑–Ω–∏–∂–∫–∞ —Å–∞–º–µ –Ω–∞ –Ω—å–æ–≥–æ)
 * @param {number} quantity - –ö—ñ–ª—å–∫—ñ—Å—Ç—å —Ç–æ–≤–∞—Ä—É (–¥–ª—è –æ–ø—Ç–æ–≤–∏—Ö –∑–Ω–∏–∂–æ–∫)
 * @returns {object|null} - –û–±'—î–∫—Ç –∑ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—î—é –ø—Ä–æ –∑–Ω–∏–∂–∫—É –∞–±–æ `null`, —è–∫—â–æ —ó—ó –Ω–µ–º–∞—î
 *   –§–æ—Ä–º–∞—Ç: {
 *     type: 'product' | 'category', // –¢–∏–ø –∑–Ω–∏–∂–∫–∏ (–Ω–∞ –ø—Ä–æ–¥—É–∫—Ç —á–∏ –∫–∞—Ç–µ–≥–æ—Ä—ñ—é)
 *     originalPrice: number,        // –ü–æ—á–∞—Ç–∫–æ–≤–∞ —Ü—ñ–Ω–∞
 *     discountPrice: number,       // –¶—ñ–Ω–∞ –∑—ñ –∑–Ω–∏–∂–∫–æ—é (–∑–∞ –æ–¥–∏–Ω–∏—Ü—é)
 *     validUntil: string,          // –¢–µ—Ä–º—ñ–Ω –¥—ñ—ó –∑–Ω–∏–∂–∫–∏ (–¥–∞—Ç–∞)
 *     bulkDiscount: {              // –Ø–∫—â–æ —î –æ–ø—Ç–æ–≤–∞ –∑–Ω–∏–∂–∫–∞ (–Ω–µ–æ–±–æ–≤'—è–∑–∫–æ–≤–æ)
 *       bulkPrice: number,         // –°—É–º–∞—Ä–Ω–∞ —Ü—ñ–Ω–∞ –∑–∞ –ø–∞—Ä—Ç—ñ—é
 *       bulkQuantity: number,      // –ù–µ–æ–±—Ö—ñ–¥–Ω–∞ –∫—ñ–ª—å–∫—ñ—Å—Ç—å
 *     }
 *   }
 */
const getDiscountInfo = (categoryId, productName = null, quantity = 1) => {
  const category = products.find((p) => p.categoryId === categoryId);
  if (!category) {
    console.log('–ö–∞—Ç–µ–≥–æ—Ä—ñ—è –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–∞');
    return null;
  }

  // 1. –ü–µ—Ä–µ–≤—ñ—Ä—è—î–º–æ –∞–∫—Ü—ñ—é –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∏–π –ø—Ä–æ–¥—É–∫—Ç (—è–∫—â–æ –≤–∫–∞–∑–∞–Ω–æ –Ω–∞–∑–≤—É)
  if (productName) {
    const product = category.categoryList.find((p) => p.–Ω–∞–∑–≤–∞ === productName);
    if (product?.–∞–∫—Ü—ñ—è) {
      if (isPromotionActive(product.–∞–∫—Ü—ñ—è.—Ç–µ—Ä–º—ñ–Ω)) {
        // –ü–µ—Ä–µ–≤—ñ—Ä—è—î–º–æ —É–º–æ–≤—É –∫—ñ–ª—å–∫–æ—Å—Ç—ñ –¥–ª—è –∞–∫—Ü—ñ—ó –ø—Ä–æ–¥—É–∫—Ç—É (—è–∫—â–æ —î)
        if (product.–∞–∫—Ü—ñ—è.—É–º–æ–≤–∞) {
          const match = product.–∞–∫—Ü—ñ—è.—É–º–æ–≤–∞.match(/–ø—Ä–∏–¥–±–∞–Ω–Ω—è (\d+) —à—Ç/);
          if (match) {
            const requiredQty = parseInt(match[1]);

            if (quantity < requiredQty) return null;
          }
        }

        return {
          type: 'product',
          originalPrice: product.—Ü—ñ–Ω–∞,
          discountPrice: product.–∞–∫—Ü—ñ—è.—Ü—ñ–Ω–∞,
          validUntil: product.–∞–∫—Ü—ñ—è.—Ç–µ—Ä–º—ñ–Ω,
        };
      }
    }
  }

  // 2. –ü–µ—Ä–µ–≤—ñ—Ä—è—î–º–æ –æ–ø—Ç–æ–≤—É –∑–Ω–∏–∂–∫—É –Ω–∞ –∫–∞—Ç–µ–≥–æ—Ä—ñ—é
  if (category?.–∞–∫—Ü—ñ—è?.—É–º–æ–≤–∏ && isPromotionActive(category.–∞–∫—Ü—ñ—è.—Ç–µ—Ä–º—ñ–Ω)) {

    const bulkConditions = category.–∞–∫—Ü—ñ—è.—É–º–æ–≤–∏
      .map((condition) => {
        const [qtyStr, priceStr] = condition.split(' - ');
        return {
          quantity: parseInt(
            qtyStr.replace('–≤—ñ–¥ ', '').replace(' —à—Ç', '').trim()
          ),
          price: parseFloat(priceStr.replace(' ‚Ç¥/—à—Ç', '').trim()),
        };
      })
      .sort((a, b) => b.quantity - a.quantity); // –°–æ—Ä—Ç—É—î–º–æ –∑–∞ —Å–ø–∞–¥–∞–Ω–Ω—è–º –∫—ñ–ª—å–∫–æ—Å—Ç—ñ

    const bestDiscount = bulkConditions.find(
      (cond) => quantity >= cond.quantity
    );

    if (bestDiscount) {
      const productPrice = productName
        ? category.categoryList.find((p) => p.–Ω–∞–∑–≤–∞ === productName)?.—Ü—ñ–Ω–∞
        : category.categoryList[0]?.—Ü—ñ–Ω–∞;

      return {
        type: 'category',
        originalPrice: productPrice,
        discountPrice: bestDiscount.price,
        validUntil: category.–∞–∫—Ü—ñ—è.—Ç–µ—Ä–º—ñ–Ω,
        bulkDiscount: {
          bulkPrice: bestDiscount.price * quantity,
          bulkQuantity: bestDiscount.quantity,
        },
      };
    }
  }

  return null; // –ê–∫—Ü—ñ—è –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–∞
};

const saveCart = (cart) => {
  localStorage.setItem('fitcakes-cart', JSON.stringify(cart));
};

let cart = loadCart();

const updateCartCount = () => {
  const totalItems = cart.reduce((sum, item) => sum + item.quantity, 0);
  cartCountSpan.textContent = totalItems;
  cartCountSpan.style.display = totalItems > 0 ? 'flex' : 'none';
};

/**
 * –û—Ç—Ä–∏–º—É—î –∞–∫—Ü—ñ–π–Ω—É —Ü—ñ–Ω—É –¥–ª—è –ø—Ä–æ–¥—É–∫—Ç—ñ–≤ –∑—ñ –∑–Ω–∏–∂–∫–æ—é –∑–∞ –∫—ñ–ª—å–∫—ñ—Å—Ç—å
 * @param {string} categoryId - ID –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó
 * @param {number} quantity - –ó–∞–≥–∞–ª—å–Ω–∞ –∫—ñ–ª—å–∫—ñ—Å—Ç—å —Ç–æ–≤–∞—Ä—ñ–≤ —É –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó
 * @returns {number|null} - –ê–∫—Ü—ñ–π–Ω–∞ —Ü—ñ–Ω–∞ –∞–±–æ null, —è–∫—â–æ –∞–∫—Ü—ñ—è –Ω–µ –∑–∞—Å—Ç–æ—Å–æ–≤—É—î—Ç—å—Å—è
 */
const getBulkDiscountPrice = (categoryId, quantity) => {
  const category = products.find((p) => p.categoryId === categoryId);
  if (!category?.–∞–∫—Ü—ñ—è?.—É–º–æ–≤–∏ || !isPromotionActive(category.–∞–∫—Ü—ñ—è.—Ç–µ—Ä–º—ñ–Ω))
    return null;

  const bulkConditions = category.–∞–∫—Ü—ñ—è.—É–º–æ–≤–∏
    .map((condition) => {
      const [qtyStr, priceStr] = condition.split(' - ');
      return {
        quantity: parseInt(qtyStr),
        price: parseInt(priceStr.replace(' ‚Ç¥', '')),
      };
    })
    .sort((a, b) => b.quantity - a.quantity); // –°–æ—Ä—Ç—É—î–º–æ –∑–∞ —Å–ø–∞–¥–∞–Ω–Ω—è–º –∫—ñ–ª—å–∫–æ—Å—Ç—ñ

  for (const condition of bulkConditions) {
    if (quantity >= condition.quantity) {
      return {
        pricePerItem: condition.price / condition.quantity,
        bulkPrice: condition.price,
        bulkQuantity: condition.quantity,
      };
    }
  }
  return null;
};

const addToCart = (product, quantity, variant = null) => {
  const uniqueProductId = `${product.categoryId}-${product.–Ω–∞–∑–≤–∞}`;
  let price = product.—Ü—ñ–Ω–∞;
  let isPromo = false;
  let discountInfo = null;

  // –ü–µ—Ä–µ–≤—ñ—Ä—è—î–º–æ –∞–∫—Ü—ñ—é –Ω–∞ –ø—Ä–æ–¥—É–∫—Ç
  discountInfo = getDiscountInfo(product.categoryId, product.–Ω–∞–∑–≤–∞, quantity);

  if (discountInfo) {
    price = discountInfo.discountPrice;
    isPromo = true;
  }

  // –î–ª—è –≤–∞–≥–æ–≤–∏—Ö —Ç–æ–≤–∞—Ä—ñ–≤
  if (variant !== null) {
    price = price * variant; // –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ –≤–∂–µ –∞–∫—Ü—ñ–π–Ω—É —Ü—ñ–Ω—É (—è–∫—â–æ —î)
    quantity = 1;
  }

  const itemId =
    variant !== null ? `${uniqueProductId}-${variant}` : uniqueProductId;
  const existingItem = cart.find((item) => item.itemId === itemId);

  if (existingItem) {
    existingItem.quantity += quantity;
    existingItem.totalPrice = existingItem.quantity * price;
  } else {
    cart.push({
      itemId,
      id: uniqueProductId,
      name: product.–Ω–∞–∑–≤–∞,
      price: price,
      originalPrice: product.—Ü—ñ–Ω–∞,
      quantity,
      variant,
      image: product.images[0] || 'placeholder.jpg',
      totalPrice: price * quantity,
      category: product.categoryId,
      isWeighted: !!product.–≤–∞—Ä—ñ–∞–Ω—Ç–∏,
      isPromo: isPromo,
    });
  }

  // –ü–µ—Ä–µ—Ä–∞—Ö–æ–≤—É—î–º–æ —Ü—ñ–Ω–∏ –¥–ª—è –≤—Å—ñ—Ö —Ç–æ–≤–∞—Ä—ñ–≤ –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó –∑ —É—Ä–∞—Ö—É–≤–∞–Ω–Ω—è–º –æ–ø—Ç–æ–≤–æ—ó –∑–Ω–∏–∂–∫–∏
  if (!variant) {
    const categoryItems = cart.filter(
      (item) => item.category === product.categoryId && !item.isWeighted
    );
    const totalQuantity = categoryItems.reduce(
      (sum, item) => sum + item.quantity,
      0
    );

    // –û—Ç—Ä–∏–º—É—î–º–æ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é –ø—Ä–æ –∑–Ω–∏–∂–∫—É –¥–ª—è –≤—Å—ñ—î—ó –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó
    const categoryDiscount = getDiscountInfo(
      product.categoryId,
      null,
      totalQuantity
    );

    if (categoryDiscount) {
      categoryItems.forEach((item) => {
        item.price = categoryDiscount.discountPrice;
        item.totalPrice = item.quantity * item.price;
        item.isPromo = true;
      });
    }
  }

  saveCart(cart);
  updateCartCount();
  displayCartItems();
  showAddToCartMessage();
};

const removeFromCart = (itemId) => {
  cart = cart.filter((item) => item.itemId !== itemId);
  saveCart(cart);
  updateCartCount();
  displayCartItems();
};

const updateCartItemQuantity = (itemId, newQuantity) => {
  const item = cart.find((item) => item.itemId === itemId);
  if (item && !item.isWeighted) {
    item.quantity = newQuantity;

    // –°–ø–æ—á–∞—Ç–∫—É –ø–µ—Ä–µ–≤—ñ—Ä—è—î–º–æ –∞–∫—Ü—ñ—é –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∏–π —Ç–æ–≤–∞—Ä
    const productDiscount = getDiscountInfo(
      item.category,
      item.name,
      newQuantity
    );

    if (productDiscount) {
      item.price = productDiscount.discountPrice;
      item.totalPrice = newQuantity * item.price;
      item.isPromo = true;
    } else {
      // –Ø–∫—â–æ –Ω–µ–º–∞—î –∞–∫—Ü—ñ—ó –Ω–∞ —Ç–æ–≤–∞—Ä, –ø–µ—Ä–µ–≤—ñ—Ä—è—î–º–æ –∞–∫—Ü—ñ—é –Ω–∞ –∫–∞—Ç–µ–≥–æ—Ä—ñ—é
      const categoryItems = cart.filter(
        (i) => i.category === item.category && !i.isWeighted
      );
      const totalQuantity = categoryItems.reduce(
        (sum, i) => sum + i.quantity,
        0
      );

      const categoryDiscount = getDiscountInfo(
        item.category,
        null,
        totalQuantity
      );

      if (categoryDiscount) {
        categoryItems.forEach((i) => {
          i.price = categoryDiscount.discountPrice;
          i.totalPrice = i.quantity * i.price;
          i.isPromo = true;
        });
      } else {
        // –Ø–∫—â–æ –∑–Ω–∏–∂–∫–∞ –±—ñ–ª—å—à–µ –Ω–µ –∑–∞—Å—Ç–æ—Å–æ–≤—É—î—Ç—å—Å—è, –ø–æ–≤–µ—Ä—Ç–∞—î–º–æ –æ—Ä–∏–≥—ñ–Ω–∞–ª—å–Ω—ñ —Ü—ñ–Ω–∏
        item.price = item.originalPrice;
        item.totalPrice = newQuantity * item.price;
        item.isPromo = false;
      }
    }

    saveCart(cart);
    updateCartCount();
    displayCartItems();
  }
};

const displayCartItems = () => {
  cartItemsContainer.innerHTML = '';

  if (cart.length === 0) {
    cartItemsContainer.innerHTML = '<p>–í–∞—à –∫–æ—à–∏–∫ –ø–æ—Ä–æ–∂–Ω—ñ–π</p>';
    checkoutButton.style.display = 'none';
    return;
  }

  let totalPrice = 0;
  let totalItems = 0;

  // –ì—Ä—É–ø—É—î–º–æ —Ç–æ–≤–∞—Ä–∏ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä—ñ—è–º
  const categories = [...new Set(cart.map((item) => item.category))];

  categories.forEach((categoryId) => {
    const categoryItems = cart.filter((item) => item.category === categoryId);
    const totalCategoryQuantity = categoryItems.reduce(
      (sum, item) => sum + item.quantity,
      0
    );
    const bulkDiscount = getBulkDiscountPrice(
      categoryId,
      totalCategoryQuantity
    );

    // –î–æ–¥–∞—î–º–æ –∑–∞–≥–æ–ª–æ–≤–æ–∫ –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó
    const categoryTitle = document.createElement('h3');
    categoryTitle.className = 'cart-category-title';
    categoryTitle.textContent =
      products.find((p) => p.categoryId === categoryId)?.category || categoryId;
    cartItemsContainer.appendChild(categoryTitle);

    // –î–æ–¥–∞—î–º–æ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é –ø—Ä–æ –∞–∫—Ü—ñ—é, —è–∫—â–æ —î
    if (bulkDiscount) {
      const discountInfo = document.createElement('div');
      discountInfo.className = 'cart-discount-info';
      discountInfo.innerHTML = `
        <p>–ê–∫—Ü—ñ—è: ${bulkDiscount.bulkQuantity} —à—Ç. –∑–∞ ${
        bulkDiscount.bulkPrice
      } ‚Ç¥</p>
        <small>–î—ñ—î –¥–æ: ${
          products.find((p) => p.categoryId === categoryId)?.–∞–∫—Ü—ñ—è?.—Ç–µ—Ä–º—ñ–Ω || ''
        }</small>
      `;
      cartItemsContainer.appendChild(discountInfo);
    }

    // –î–æ–¥–∞—î–º–æ —Ç–æ–≤–∞—Ä–∏ –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó
    categoryItems.forEach((item) => {
      const itemElement = document.createElement('div');
      itemElement.className = 'cart-item';

      const variantText =
        item.variant !== null ? `${item.variant} –∫–≥` : `${item.quantity} —à—Ç.`;
      const pricePerUnit =
        item.variant !== null
          ? `${(item.price / item.variant).toFixed(2)} ‚Ç¥/–∫–≥`
          : `${item.price} ‚Ç¥/—à—Ç.`;

      itemElement.innerHTML = `
        <img src="./img/products/${item.image}" alt="${
        item.name
      }" onerror="this.onerror=null;this.src='./img/icons/heart-icon.svg'">
        <div class="cart-item-details">
          <h4>${item.name}</h4>
          <p>${variantText}</p>
          <p class="cart-item-total">${item.totalPrice.toFixed(2)} ‚Ç¥</p>
          <small>${pricePerUnit}</small>
          ${
            item.isPromo && !bulkDiscount
              ? '<span class="promo-badge">–ê–∫—Ü—ñ—è</span>'
              : ''
          }
        </div>
        <div class="cart-item-controls">
          ${
            !item.isWeighted
              ? `
            <input type="number" min="1" value="${item.quantity}" class="item-quantity" data-item-id="${item.itemId}">
          `
              : ''
          }
          <button class="remove-item-btn" data-item-id="${
            item.itemId
          }">√ó</button>
        </div>
      `;

      cartItemsContainer.appendChild(itemElement);
      totalPrice += item.totalPrice;
      totalItems += item.quantity;
    });
  });

  // –û–±—Ä–æ–±–Ω–∏–∫–∏ –ø–æ–¥—ñ–π
  cartItemsContainer.querySelectorAll('.item-quantity').forEach((input) => {
    input.addEventListener('change', (e) => {
      const newQuantity = parseInt(e.target.value);
      if (newQuantity > 0) {
        updateCartItemQuantity(e.target.dataset.itemId, newQuantity);
      } else {
        removeFromCart(e.target.dataset.itemId);
      }
    });
  });

  cartItemsContainer.querySelectorAll('.remove-item-btn').forEach((btn) => {
    btn.addEventListener('click', (e) => {
      removeFromCart(e.target.dataset.itemId);
    });
  });

  cartTotalPriceSpan.textContent = totalPrice.toFixed(2);
  cartTotalItemsSpan.textContent = totalItems;
  checkoutButton.style.display = 'block';
};

/**
 * –í—ñ–¥–∫—Ä–∏–≤–∞—î –º–æ–¥–∞–ª—å–Ω–µ –≤—ñ–∫–Ω–æ –¥–æ–¥–∞–≤–∞–Ω–Ω—è –≤ –∫–æ—à–∏–∫
 * @param {Object} product - –û–±'—î–∫—Ç —Ç–æ–≤–∞—Ä—É
 */
const openAddToCartModal = (product, categoryId) => {
  currentProductToAdd = product;
  addToCartProductName.textContent = product.–Ω–∞–∑–≤–∞;

  // –î–æ–¥–∞—î–º–æ categoryId –¥–æ –æ–±'—î–∫—Ç–∞ –ø—Ä–æ–¥—É–∫—Ç—É
  product.categoryId = categoryId;

  quantityInput.classList.add('hidden');
  weightSelect.classList.add('hidden');
  weightSelect.innerHTML = '';

  // –†–µ—à—Ç–∞ –∫–æ–¥—É –∑–∞–ª–∏—à–∞—î—Ç—å—Å—è –±–µ–∑ –∑–º—ñ–Ω...
  if (product.–≤–∞—Ä—ñ–∞–Ω—Ç–∏ && product.–≤–∞—Ä—ñ–∞–Ω—Ç–∏.length > 0) {
    weightSelect.classList.remove('hidden');

    product.–≤–∞—Ä—ñ–∞–Ω—Ç–∏.forEach((weight) => {
      const option = document.createElement('option');
      option.value = weight;
      option.textContent = `${weight} –∫–≥`;
      weightSelect.appendChild(option);
    });

    const initialWeight = product.–≤–∞—Ä—ñ–∞–Ω—Ç–∏[0];
    const discountInfo = getDiscountInfo(categoryId, product.–Ω–∞–∑–≤–∞, 1); // –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ categoryId
    const price = discountInfo ? discountInfo.discountPrice : product.—Ü—ñ–Ω–∞;

    addToCartProductPrice.textContent = `${(initialWeight * price).toFixed(
      2
    )} ‚Ç¥`;
    if (discountInfo) {
      addToCartProductPrice.innerHTML += ` <span class="original-price">(${(
        initialWeight * product.—Ü—ñ–Ω–∞
      ).toFixed(2)} ‚Ç¥)</span>`;
    }

    weightSelect.addEventListener('change', (e) => {
      const selectedWeight = parseFloat(e.target.value);
      addToCartProductPrice.textContent = `${(selectedWeight * price).toFixed(
        2
      )} ‚Ç¥`;
      if (discountInfo) {
        addToCartProductPrice.innerHTML += ` <span class="original-price">(${(
          selectedWeight * product.—Ü—ñ–Ω–∞
        ).toFixed(2)} ‚Ç¥)</span>`;
      }
    });
  } else {
    quantityInput.classList.remove('hidden');
    quantityInput.value = 1;

    const discountInfo = getDiscountInfo(categoryId, product.–Ω–∞–∑–≤–∞, 1); // –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ categoryId
    const price = discountInfo ? discountInfo.discountPrice : product.—Ü—ñ–Ω–∞;

    addToCartProductPrice.textContent = `${price} ‚Ç¥`;
    if (discountInfo) {
      addToCartProductPrice.innerHTML += ` <span class="original-price">(${product.—Ü—ñ–Ω–∞} ‚Ç¥)</span>`;
    }

    quantityInput.addEventListener('input', (e) => {
      const qty = parseInt(e.target.value);
      if (!isNaN(qty)) {
        const qtyDiscountInfo = getDiscountInfo(
          categoryId, // –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ categoryId
          product.–Ω–∞–∑–≤–∞,
          qty
        );
        const qtyPrice = qtyDiscountInfo
          ? qtyDiscountInfo.discountPrice
          : product.—Ü—ñ–Ω–∞;

        addToCartProductPrice.textContent = `${(qty * qtyPrice).toFixed(2)} ‚Ç¥`;
        if (qtyDiscountInfo) {
          addToCartProductPrice.innerHTML += ` <span class="original-price">(${(
            qty * product.—Ü—ñ–Ω–∞
          ).toFixed(2)} ‚Ç¥)</span>`;
        }
      }
    });
  }

  openModal(addToCartModal);
};

// –ö–Ω–æ–ø–∫–∞ "–î–æ–¥–∞—Ç–∏ –¥–æ –∫–æ—à–∏–∫–∞" –≤ –º–æ–¥–∞–ª—Ü—ñ
addToCartButton.addEventListener('click', () => {
  if (currentProductToAdd) {
    let quantity;
    let variant = null;

    if (weightSelect.classList.contains('hidden')) {
      // –î–æ–¥–∞—î–º–æ –∑–∞ –∫—ñ–ª—å–∫—ñ—Å—Ç—é
      quantity = parseInt(quantityInput.value);
      if (isNaN(quantity) || quantity <= 0) {
        alert('–ë—É–¥—å –ª–∞—Å–∫–∞, –≤–≤–µ–¥—ñ—Ç—å –¥—ñ–π—Å–Ω—É –∫—ñ–ª—å–∫—ñ—Å—Ç—å.');
        return;
      }
    } else {
      // –î–æ–¥–∞—î–º–æ –∑–∞ –≤–∞–≥–æ—é
      variant = parseFloat(weightSelect.value);
      quantity = 1; // –î–ª—è –≤–∞—Ä—ñ–∞–Ω—Ç—ñ–≤ –≤–∞–≥–∏, –∫—ñ–ª—å–∫—ñ—Å—Ç—å –∑–∞–≤–∂–¥–∏ 1, –∞ –≤–∞–≥–∞ - —Ü–µ "–∫—ñ–ª—å–∫—ñ—Å—Ç—å"
      if (isNaN(variant) || variant <= 0) {
        alert('–ë—É–¥—å –ª–∞—Å–∫–∞, –≤–∏–±–µ—Ä—ñ—Ç—å –¥—ñ–π—Å–Ω–∏–π –≤–∞—Ä—ñ–∞–Ω—Ç –≤–∞–≥–∏.');
        return;
      }
    }

    addToCart(currentProductToAdd, quantity, variant);
    closeModal(addToCartModal);
  }
});

// –ü–µ—Ä–µ—Ö—ñ–¥ –¥–æ –∫–æ—à–∏–∫–∞ –∑ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –ø—Ä–æ –¥–æ–¥–∞–≤–∞–Ω–Ω—è
goToCartBtn.addEventListener('click', () => {
  closeModal(addToCartMessage);
  openModal(cartModal);
});

//! --- –§—É–Ω–∫—Ü—ñ—ó –¥–ª—è –æ–±—Ä–∞–Ω–∏—Ö —Ç–æ–≤–∞—Ä—ñ–≤ ---

/**
 * –û—Ç—Ä–∏–º—É—î —Å–ø–∏—Å–æ–∫ –æ–±—Ä–∞–Ω–∏—Ö –ø—Ä–æ–¥—É–∫—Ç—ñ–≤ –∑ Local Storage.
 * @returns {Array} –ú–∞—Å–∏–≤ ID –æ–±—Ä–∞–Ω–∏—Ö –ø—Ä–æ–¥—É–∫—Ç—ñ–≤.
 */
const getLikedProducts = () => {
  try {
    const likedProducts =
      JSON.parse(localStorage.getItem('fitcakes-liked-products')) || [];
    return likedProducts;
  } catch (e) {
    return [];
  }
};

/**
 * –ó–±–µ—Ä—ñ–≥–∞—î —Å–ø–∏—Å–æ–∫ –æ–±—Ä–∞–Ω–∏—Ö –ø—Ä–æ–¥—É–∫—Ç—ñ–≤ —É Local Storage.
 * @param {Array} likedProducts - –ú–∞—Å–∏–≤ ID –æ–±—Ä–∞–Ω–∏—Ö –ø—Ä–æ–¥—É–∫—Ç—ñ–≤.
 */
const saveLikedProducts = (likedProducts) => {
  localStorage.setItem(
    'fitcakes-liked-products',
    JSON.stringify(likedProducts)
  );
};

/**
 * –î–æ–¥–∞—î –∞–±–æ –≤–∏–¥–∞–ª—è—î –ø—Ä–æ–¥—É–∫—Ç –∑—ñ —Å–ø–∏—Å–∫—É –æ–±—Ä–∞–Ω–∏—Ö.
 * @param {string} productId - ID –ø—Ä–æ–¥—É–∫—Ç—É.
 * @returns {boolean} True, —è–∫—â–æ –ø—Ä–æ–¥—É–∫—Ç –±—É–≤ –¥–æ–¥–∞–Ω–∏–π, False, —è–∫—â–æ –≤–∏–¥–∞–ª–µ–Ω–∏–π.
 */
const toggleLikeProduct = (productId) => {
  let likedProducts = getLikedProducts();
  const index = likedProducts.indexOf(productId);

  if (index === -1) {
    likedProducts.push(productId);
    // –î–æ–¥–∞—î–º–æ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é –ø—Ä–æ –ø—Ä–æ–¥—É–∫—Ç –¥–æ likedProductsData, —è–∫—â–æ —ó—ó —Ç–∞–º –Ω–µ–º–∞—î
    const productToAdd = products
      .flatMap((cat) => cat.categoryList)
      .find((p) => p.id === productId);
    if (productToAdd && !likedProductsData.some((p) => p.id === productId)) {
      likedProductsData.push(productToAdd);
    }
    saveLikedProducts(likedProducts);
    return true; // –ü—Ä–æ–¥—É–∫—Ç –¥–æ–¥–∞–Ω–æ
  } else {
    likedProducts.splice(index, 1);
    // –í–∏–¥–∞–ª—è—î–º–æ –ø—Ä–æ–¥—É–∫—Ç —Ç–∞–∫–æ–∂ –∑ likedProductsData
    likedProductsData = likedProductsData.filter((p) => p.id !== productId);
    saveLikedProducts(likedProducts);
    return false; // –ü—Ä–æ–¥—É–∫—Ç –≤–∏–¥–∞–ª–µ–Ω–æ
  }
};

/**
 * –û–Ω–æ–≤–ª—é—î —ñ–∫–æ–Ω–∫—É "–ª–∞–π–∫" –¥–ª—è –∫–∞—Ä—Ç–∫–∏ –ø—Ä–æ–¥—É–∫—Ç—É.
 * @param {HTMLElement} likeButton - –ö–Ω–æ–ø–∫–∞ "–ª–∞–π–∫".
 * @param {string} productId - ID –ø—Ä–æ–¥—É–∫—Ç—É.
 */
const updateLikeButtonIcon = (likeButton, productId) => {
  const likedProducts = getLikedProducts();
  if (likedProducts.includes(productId)) {
    likeButton.innerHTML = '<i class="fas fa-heart liked"></i>'; // –ó–∞–ø–æ–≤–Ω–µ–Ω–µ —Å–µ—Ä—Ü–µ
  } else {
    likeButton.innerHTML = '<i class="far fa-heart"></i>'; // –ü–æ—Ä–æ–∂–Ω—î —Å–µ—Ä—Ü–µ
  }
};

/**
 * –û–Ω–æ–≤–ª—é—î –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è –∫—ñ–ª—å–∫–æ—Å—Ç—ñ —Ç–æ–≤–∞—Ä—ñ–≤ –Ω–∞ —ñ–∫–æ–Ω—Ü—ñ –∫–æ—à–∏–∫–∞ (–æ–±–æ—Ö).
 */
const updateLikedProductsCount = () => {
  getLikedProducts();
  const totalItemsInLikedProductsList = likedProductsData.length;
  likedProductsCountSpan.textContent = totalItemsInLikedProductsList;

  if (totalItemsInLikedProductsList > 0) {
    likedProductsCountSpan.style.display = 'flex';
  } else {
    likedProductsCountSpan.style.display = 'none';
  }
};

/**
 * –í—ñ–¥–æ–±—Ä–∞–∂–∞—î —Å–ø–∏—Å–æ–∫ –æ–±—Ä–∞–Ω–∏—Ö —Ç–æ–≤–∞—Ä—ñ–≤ —É –≤–∫–∞–∑–∞–Ω–æ–º—É –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ñ.
 * @param {HTMLElement} container - –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è —Ç–æ–≤–∞—Ä—ñ–≤.
 */
const renderLikedProducts = (container) => {
  container.innerHTML = '';
  
  if (likedProductsData.length === 0) {
    container.innerHTML = '<p>–£ –≤–∞—Å –Ω–µ–º–∞—î –æ–±—Ä–∞–Ω–∏—Ö —Ç–æ–≤–∞—Ä—ñ–≤.</p>';
    return;
  }

  likedProductsData.forEach((product) => {
    const likedItemDiv = document.createElement('div');
    likedItemDiv.classList.add('liked-product-item');
    likedItemDiv.innerHTML = `
      <img src="./img/products/${product.images[0]}" alt="${
      product.–Ω–∞–∑–≤–∞
    }" onerror="this.onerror=null;this.src='./img/icons/heart-icon.svg'">
      <div class="liked-product-details">
        <h4>${product.–Ω–∞–∑–≤–∞}</h4>
        ${
          product.–∫–±–∂–≤ ? `<p class="kbzhw">–ö–ë–ñ–í:</p><p>${product.–∫–±–∂–≤}</p>` : ''
        }
        <p>–¶—ñ–Ω–∞: ${product.—Ü—ñ–Ω–∞} ‚Ç¥${product.–≤–∞—Ä—ñ–∞–Ω—Ç–∏ ? '/–∫–≥' : '/—à—Ç'}</p>
      </div>
      <div class="liked-product-actions">
        <button class="go-to-product-btn" data-product-id="${
          product.id
        }">–î–æ —Ç–æ–≤–∞—Ä—É</button>
        <button class="remove-liked-btn" data-product-id="${
          product.id
        }">X</button>
      </div>
    `;
    container.appendChild(likedItemDiv);
  });

  // –î–æ–¥–∞—î–º–æ –æ–±—Ä–æ–±–Ω–∏–∫–∏ –ø–æ–¥—ñ–π
  container.querySelectorAll('.remove-liked-btn').forEach((button) => {
    button.addEventListener('click', (e) => {
      productToRemoveFromLiked = e.target.dataset.productId;
      openModal(confirmModal);
    });
  });

  container.querySelectorAll('.go-to-product-btn').forEach((button) => {
    button.addEventListener('click', (e) => {
      const productId = e.target.dataset.productId;
      closeModal(likedProductsModal);
      const productElement = document.querySelector(`[data-product-id="${productId}"]`);
      if (productElement) {
        productElement.scrollIntoView({ behavior: 'smooth', block: 'center' });
        productElement.classList.add('highlight-product');
        setTimeout(() => {
          productElement.classList.remove('highlight-product');
        }, 2000);
      }
    });
  });
};

/**
 * –í—ñ–¥–∫—Ä–∏–≤–∞—î –º–æ–¥–∞–ª—å–Ω–µ –≤—ñ–∫–Ω–æ "–û–±—Ä–∞–Ω—ñ —Ç–æ–≤–∞—Ä–∏" —Ç–∞ –≤—ñ–¥–æ–±—Ä–∞–∂–∞—î —ó—Ö.
 */
const openLikedProductsModal = () => {
  renderLikedProducts(likedProductsList);
  openModal(likedProductsModal);
  updateLikedProductsCount();
};

/**
 * –û–Ω–æ–≤–ª—é—î –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è –æ–±—Ä–∞–Ω–∏—Ö –ø—Ä–æ–¥—É–∫—Ç—ñ–≤ (–¥–ª—è –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –ø—ñ—Å–ª—è –≤–∏–¥–∞–ª–µ–Ω–Ω—è)
 */
const displayLikedProducts = () => {
  renderLikedProducts(likedProductsList);
  updateLikedProductsCount();
};

// –û–±—Ä–æ–±–Ω–∏–∫–∏ –¥–ª—è –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –≤—ñ–∫–Ω–∞ –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è –≤–∏–¥–∞–ª–µ–Ω–Ω—è
confirmRemoveYesBtn.addEventListener('click', () => {
  if (productToRemoveFromLiked) {
    toggleLikeProduct(productToRemoveFromLiked);
    // Find the specific like button for the product to update its icon
    const productLikeButton = document.querySelector(
      `.like-button[data-product-id="${productToRemoveFromLiked}"]`
    );
    if (productLikeButton) {
      updateLikeButtonIcon(productLikeButton, productToRemoveFromLiked);
    }
    displayLikedProducts(); // –û–Ω–æ–≤–ª—é—î–º–æ —Å–ø–∏—Å–æ–∫ –æ–±—Ä–∞–Ω–∏—Ö —Ç–æ–≤–∞—Ä—ñ–≤ —É –º–æ–¥–∞–ª—å–Ω–æ–º—É –≤—ñ–∫–Ω—ñ
    productToRemoveFromLiked = null;
    closeModal(confirmModal); // Assuming closeModal is defined elsewhere
  }
});

confirmRemoveNoBtn.addEventListener('click', () => {
  productToRemoveFromLiked = null;
  closeModal(confirmModal); // Assuming closeModal is defined elsewhere
});

//! --- –§—É–Ω–∫—Ü—ñ—ó –¥–ª—è –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è —Ç–æ–≤–∞—Ä—ñ–≤ ---

/**
 * –ì–µ–Ω–µ—Ä—É—î –∫–∞—Ä—Ç–∫—É —Ç–æ–≤–∞—Ä—É.
 * @param {Object} product - –û–±'—î–∫—Ç —Ç–æ–≤–∞—Ä—É.
 * @returns {HTMLElement} HTML –µ–ª–µ–º–µ–Ω—Ç –∫–∞—Ä—Ç–∫–∏ —Ç–æ–≤–∞—Ä—É.
 */
const createProductCard = (product, index) => {
  const card = document.createElement('div');
  card.classList.add('product-card');
  card.classList.add(index % 2 === 0 ? 'animate-left' : 'animate-right');
  card.setAttribute('data-product-id', product.id);

  const imagePath = `./img/products/${product.images[0]}`;

  // –í–∏–∑–Ω–∞—á–∞—î–º–æ –∞–∫—Ü—ñ–π–Ω—É —Ü—ñ–Ω—É
  const discountInfo = getDiscountInfo(product.categoryId, product.–Ω–∞–∑–≤–∞);
  const showOriginalPrice = discountInfo && discountInfo.type === 'product';
  const currentPrice = showOriginalPrice
    ? discountInfo.discountPrice
    : product.—Ü—ñ–Ω–∞;

  card.innerHTML = `
    <div class="product-card-overlay-buttons">
      <button class="like-button" data-product-id="${product.id}"></button>
      <button class="details-button" data-product-id="${
        product.id
      }"><i class="fas fa-info"></i></button>
    </div>
    <div>
      <img src="${imagePath}" alt="${
    product.–Ω–∞–∑–≤–∞
  }" onerror="this.onerror=null;this.src='./img/icons/heart-icon.svg'">
      <h3>${product.–Ω–∞–∑–≤–∞}</h3>
    </div>
    
    <div>
      <div class="price-container">
        ${
          showOriginalPrice
            ? `<span class="original-price">${product.—Ü—ñ–Ω–∞} ‚Ç¥</span>`
            : ''
        }
        <p class="price">${currentPrice} ‚Ç¥${product.–≤–∞—Ä—ñ–∞–Ω—Ç–∏ ? '/–∫–≥' : '/—à—Ç'}</p>
      </div>
      ${product.–∫–±–∂–≤ ? `<p class="kbzhw">–ö–ë–ñ–í: <br>${product.–∫–±–∂–≤}</p>` : ''}
      <div class="product-card-buttons">
        <button class="buy-button" data-product-id="${
          product.id
        }">–ó–∞–º–æ–≤–∏—Ç–∏</button>
      </div>
    </div>
  `;

  const likeButton = card.querySelector('.like-button');
  updateLikeButtonIcon(likeButton, product.id); // –û–Ω–æ–≤–ª—é—î–º–æ —ñ–∫–æ–Ω–∫—É –ø—Ä–∏ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—ñ –∫–∞—Ä—Ç–∫–∏

  likeButton.addEventListener('click', (event) => {
    event.stopPropagation(); // –ó–∞–ø–æ–±—ñ–≥–∞—î–º–æ —Å–ø–ª–∏–≤–∞–Ω–Ω—é –ø–æ–¥—ñ—ó, —â–æ–± –Ω–µ —Å–ø—Ä–∞—Ü—å–æ–≤—É–≤–∞–ª–∏ —ñ–Ω—à—ñ –∫–ª—ñ–∫–∏ –Ω–∞ –∫–∞—Ä—Ç—Ü—ñ
    toggleLikeProduct(product.id);
    updateLikeButtonIcon(likeButton, product.id);
    updateLikedProductsCount();
  });

  card
    .querySelector('.buy-button')
    .addEventListener('click', () => openAddToCartModal(product, product.categoryId));
  card
    .querySelector('.details-button')
    .addEventListener('click', () =>
      openProductDetailsModal(product, product.categoryId)
    );

  return card;
};

/**
 * –í—ñ–¥–æ–±—Ä–∞–∂–∞—î –≤—Å—ñ —Ç–æ–≤–∞—Ä–∏ –Ω–∞ —Å—Ç–æ—Ä—ñ–Ω—Ü—ñ, —Ä–æ–∑–¥—ñ–ª–µ–Ω—ñ –∑–∞ –∫–∞—Ç–µ–≥–æ—Ä—ñ—è–º–∏.
 */
const getTruncatedText = (text) => {
  const sentenceEndRegex = /[.!?]/g;
  let match;
  let count = 0;
  let endIndex = -1;

  while ((match = sentenceEndRegex.exec(text)) !== null) {
    count++;
    if (count === 2) {
      endIndex = match.index + 1;
      break;
    }
  }

  return endIndex > 0 ? text.slice(0, endIndex).trim() : text.trim();
};

const displayProducts = () => {
  productsContainer.innerHTML = '';

  products.forEach((category) => {
    const categorySection = document.createElement('section');
    categorySection.classList.add('product-category');
    categorySection.id = category.categoryId;

    const fullDescription = category.categoryDescription.join(' ');
    const shortText = getTruncatedText(fullDescription);
    const isTruncated = shortText !== fullDescription;

    // –û–ø–∏—Å
    const descriptionContent = document.createElement('div');
    descriptionContent.classList.add('description-content');
    descriptionContent.innerHTML = `<p>${shortText}</p>`;

    const descriptionWrapper = document.createElement('div');
    descriptionWrapper.classList.add('product-category-description');
    descriptionWrapper.appendChild(descriptionContent);

    // –ö–Ω–æ–ø–∫–∞ "–ë—ñ–ª—å—à–µ"
    if (isTruncated) {
      const readMoreBtn = document.createElement('button');
      readMoreBtn.classList.add('read-more-btn');
      readMoreBtn.dataset.categoryId = category.categoryId;
      readMoreBtn.textContent = '–ë—ñ–ª—å—à–µ';
      descriptionWrapper.appendChild(readMoreBtn);
    }

    categorySection.innerHTML = `<h2>${category.category}</h2>`;
    categorySection.appendChild(descriptionWrapper);

    // –ü—Ä–æ–¥—É–∫—Ç–∏
    const categoryCardsGrid = document.createElement('div');
    categoryCardsGrid.classList.add('category-cards-grid');

    category.categoryList.forEach((product, index) => {
      product.id = `${category.categoryId}-${product.–Ω–∞–∑–≤–∞.replace(
        /\s/g,
        '-'
      )}`;
      const card = createProductCard(product, index);
      categoryCardsGrid.appendChild(card);
    });

    categorySection.appendChild(categoryCardsGrid);
    productsContainer.appendChild(categorySection);
  });

  // –û–±—Ä–æ–±–∫–∞ –∫–ª—ñ–∫—É –ø–æ "–ë—ñ–ª—å—à–µ"
  productsContainer.addEventListener('click', (e) => {
    if (e.target.classList.contains('read-more-btn')) {
      const button = e.target;
      const categoryId = button.dataset.categoryId;
      const category = products.find((c) => c.categoryId === categoryId);
      const descriptionDiv = button.previousElementSibling;
      const full = category.categoryDescription.join(' ');

      const isExpanded = descriptionDiv.classList.toggle('expanded');
      descriptionDiv.innerHTML = `<p>${
        isExpanded ? full : getTruncatedText(full)
      }</p>`;

      button.textContent = isExpanded ? '–ó–≥–æ—Ä–Ω—É—Ç–∏' : '–ë—ñ–ª—å—à–µ';

      if (!isExpanded) {
        const wrapper = button.closest('.product-category');
        wrapper.scrollIntoView({ behavior: 'smooth', block: 'start' });
      }
    }
  });
};

//! --- –§—É–Ω–∫—Ü—ñ—ó –¥–ª—è —Å–ª–∞–π–¥–µ—Ä–∞ Hero Section (–∞–∫—Ü—ñ–π–Ω—ñ —Ç–æ–≤–∞—Ä–∏) ---
let currentSlide = 0;
let slideInterval;

/**
 * –û–Ω–æ–≤–ª—é—î —Å—Ç–∞–Ω —Å–ª–∞–π–¥–µ—Ä–∞ (–∞–∫—Ç–∏–≤–Ω–∏–π —Å–ª–∞–π–¥ —Ç–∞ —Ç–æ—á–∫–∏)
 */
const updateSlider = () => {
  const slides = document.querySelectorAll('.hero-slide');
  const dots = document.querySelectorAll('.dot');

  slides.forEach((slide, index) => {
    slide.style.display = index === currentSlide ? 'block' : 'none';
  });

  dots.forEach((dot, index) => {
    dot.classList.toggle('active', index === currentSlide);
  });
};

/**
 * –ü–µ—Ä–µ—Ö–æ–¥–∏—Ç—å –¥–æ –ø–µ–≤–Ω–æ–≥–æ —Å–ª–∞–π–¥—É
 * @param {number} index - –Ü–Ω–¥–µ–∫—Å —Å–ª–∞–π–¥—É
 */
const goToSlide = (index) => {
  const slides = document.querySelectorAll('.hero-slide');
  if (index >= slides.length) {
    currentSlide = 0;
  } else if (index < 0) {
    currentSlide = slides.length - 1;
  } else {
    currentSlide = index;
  }
  updateSlider();
};

/**
 * –ü–µ—Ä–µ—Ö–æ–¥–∏—Ç—å –¥–æ –Ω–∞—Å—Ç—É–ø–Ω–æ–≥–æ —Å–ª–∞–π–¥—É
 */
const nextSlide = () => {
  goToSlide(currentSlide + 1);
};

/**
 * –ü–µ—Ä–µ—Ö–æ–¥–∏—Ç—å –¥–æ –ø–æ–ø–µ—Ä–µ–¥–Ω—å–æ–≥–æ —Å–ª–∞–π–¥—É
 */
const prevSlide = () => {
  goToSlide(currentSlide - 1);
};

/**
 * –ó–∞–ø—É—Å–∫–∞—î –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω—É –∑–º—ñ–Ω—É —Å–ª–∞–π–¥—ñ–≤
 */
const startSlideShow = () => {
  clearInterval(slideInterval); // –û—á–∏—â–∞—î–º–æ –ø–æ–ø–µ—Ä–µ–¥–Ω—ñ–π —ñ–Ω—Ç–µ—Ä–≤–∞–ª, —è–∫—â–æ –≤—ñ–Ω –±—É–≤
  slideInterval = setInterval(() => {
    nextSlide();
  }, sliderInterval); // –ó–º—ñ–Ω—é—î–º–æ —Å–ª–∞–π–¥ –∫–æ–∂–Ω—ñ 5 —Å–µ–∫—É–Ω–¥
};

/**
 * –°–∫–∏–¥–∞—î —Ç–∞–π–º–µ—Ä –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ—ó –∑–º—ñ–Ω–∏ —Å–ª–∞–π–¥—ñ–≤
 */
const resetSlideShow = () => {
  clearInterval(slideInterval);
  startSlideShow();
};

/**
 * –ó–Ω–∞—Ö–æ–¥–∏—Ç—å –ø—Ä–æ–¥—É–∫—Ç –∑–∞ ID
 * @param {string} productId - ID –ø—Ä–æ–¥—É–∫—Ç—É
 * @returns {Object|null} –û–±'—î–∫—Ç –ø—Ä–æ–¥—É–∫—Ç—É –∞–±–æ null, —è–∫—â–æ –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ
 */
const findProductById = (productId) => {
  for (const category of products) {
    const product = category.categoryList.find((p) => p.id === productId);
    if (product) return product;
  }
  return null;
};

/**
 * –°—Ç–≤–æ—Ä—é—î —Å–ª–∞–π–¥ –¥–ª—è Hero Section –∑ –∞–∫—Ü—ñ–π–Ω–∏–º —Ç–æ–≤–∞—Ä–æ–º.
 * @param {Object} product - –û–±'—î–∫—Ç —Ç–æ–≤–∞—Ä—É.
 * @returns {HTMLElement} HTML –µ–ª–µ–º–µ–Ω—Ç —Å–ª–∞–π–¥–∞.
 */
const createHeroSlide = (product) => {
  if (product.–∞–∫—Ü—ñ—è) {
    const slide = document.createElement('div');
    slide.classList.add('hero-slide');
    slide.style.backgroundImage = `url(./img/products/${
      product.images[0] || './img/icons/heart.svg'
    })`;

    // –í–∏–∑–Ω–∞—á–∞—î–º–æ —Ç–µ–∫—Å—Ç –∞–∫—Ü—ñ—ó —Ç–∞ —É–º–æ–≤–∏ (–∑–∞ –Ω–∞—è–≤–Ω–æ—Å—Ç—ñ)
    let saleText = `(–ó–Ω–∏–∂–∫–∞ ${Math.round(
      (1 - product.–∞–∫—Ü—ñ—è.—Ü—ñ–Ω–∞ / product.—Ü—ñ–Ω–∞) * 100
    )}%)`;

    slide.innerHTML = `
    <div class="hero-slide-content">
      <div class="hero-slide-header">   
        <h3>${product.–Ω–∞–∑–≤–∞}</h3>
        <h5>(–ö–∞—Ç–µ–≥–æ—Ä—ñ—è: ${product.category})</h5>
        <div class="price-container">
          <span class="original-price">
            ${product.—Ü—ñ–Ω–∞}
          </span>
          <span class="current-price">
            ${product.–∞–∫—Ü—ñ—è.—Ü—ñ–Ω–∞} ${product.–≤–∞—Ä—ñ–∞–Ω—Ç–∏ ? '‚Ç¥/–∫–≥' : '‚Ç¥/—à—Ç'}
          </span>
        </div>
        <p class="sale-text">${saleText}</p>
      </div>      

      
        <p class="sale-date">–¢–µ—Ä–º—ñ–Ω –¥—ñ—ó –∞–∫—Ü—ñ—ó: –¥–æ ${product.–∞–∫—Ü—ñ—è.—Ç–µ—Ä–º—ñ–Ω}</p>
      
      <button class="details-button" data-product-id="${product.id}">
        –î–µ—Ç–∞–ª—å–Ω—ñ—à–µ
      </button>
    </div>
  `;

    return slide;
  } else {
    return null;
  }
};

/**
 * –û—Ç—Ä–∏–º—É—î –≤—Å—ñ –∞–∫—Ü—ñ–π–Ω—ñ —Ç–æ–≤–∞—Ä–∏
 * @returns {Array} –ú–∞—Å–∏–≤ —Ç–æ–≤–∞—Ä—ñ–≤ –∑ –∞–∫—Ü—ñ—è–º–∏
 */
const getProductsOnSale = () => {
  return products.flatMap((category) =>
    category.categoryList
      .filter((product) => product.–∞–∫—Ü—ñ—è)
      .map((product) => ({
        ...product,
        category: category.category,
      }))
  );
};

/**
 * –ó–∞–ø–æ–≤–Ω—é—î —Å–ª–∞–π–¥–µ—Ä –∞–∫—Ü—ñ–π–Ω–∏–º–∏ —Ç–æ–≤–∞—Ä–∞–º–∏
 */
const populateHeroSlider = () => {
  heroSlider.innerHTML = '';
  sliderDotsContainer.innerHTML = '';

  const saleProducts = getProductsOnSale();

  if (saleProducts.length === 0) {
    // –Ø–∫—â–æ –Ω–µ–º–∞—î –∞–∫—Ü—ñ–π–Ω–∏—Ö —Ç–æ–≤–∞—Ä—ñ–≤, –ø–æ–∫–∞–∑—É—î–º–æ –∑–∞–≥–ª—É—à–∫—É
    heroSlider.innerHTML = `
      <div class="hero-slide no-sales">
        <div class="hero-slide-content">
          <h3>–ù–∞—Ä–∞–∑—ñ –∞–∫—Ü—ñ–π–Ω–∏—Ö –ø—Ä–æ–ø–æ–∑–∏—Ü—ñ–π –Ω–µ–º–∞—î</h3>
          <p>–°–ª—ñ–¥–∫—É–π—Ç–µ –∑–∞ –Ω–∞—à–∏–º–∏ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è–º–∏</p>
        </div>
      </div>
    `;
    return;
  }

  saleProducts.forEach((product, index) => {
    const slide = createHeroSlide(product);
    heroSlider.appendChild(slide);

    const dot = document.createElement('span');
    dot.classList.add('dot');
    dot.dataset.slideIndex = index;
    dot.addEventListener('click', () => goToSlide(index));
    sliderDotsContainer.appendChild(dot);
  });

  // –î–æ–¥–∞—î–º–æ –æ–±—Ä–æ–±–Ω–∏–∫–∏ –∫–ª—ñ–∫—ñ–≤ –¥–ª—è –∫–Ω–æ–ø–æ–∫ "–î–µ—Ç–∞–ª—å–Ω—ñ—à–µ"
  document.querySelectorAll('.details-button').forEach((button) => {
    button.addEventListener('click', (e) => {
      const productId = e.target.dataset.productId;
      const product = findProductById(productId);
      if (product) {
        openProductDetailsModal(product);
      }
    });
  });

  updateSlider();
  startSlideShow();
};

//! --- –§—É–Ω–∫—Ü—ñ—ó –¥–ª—è –º–æ–¥–∞–ª—å–Ω–∏—Ö –≤—ñ–∫–æ–Ω ---

/**
 * –í—ñ–¥–∫—Ä–∏–≤–∞—î –º–æ–¥–∞–ª—å–Ω–µ –≤—ñ–∫–Ω–æ.
 * @param {HTMLElement} modalElement - –ï–ª–µ–º–µ–Ω—Ç –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –≤—ñ–∫–Ω–∞.
 */
const openModal = (modalElement) => {
  modalElement.style.display = 'flex';
  // –î–æ–¥–∞—î–º–æ –∫–ª–∞—Å –¥–ª—è –∞–Ω—ñ–º–∞—Ü—ñ—ó (—è–∫—â–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ, —Ç–∞–∫ —è–∫ –∞–Ω—ñ–º–∞—Ü—ñ—è –≤–∂–µ –≤ CSS)
  modalElement.querySelector('.modal-content').style.animation =
    'modalOpen 0.3s forwards ease-out';
  body.style.overflow = 'hidden'; // –ó–∞–±–æ—Ä–æ–Ω—è—î–º–æ –ø—Ä–æ–∫—Ä—É—Ç–∫—É —Ñ–æ–Ω—É
};

/**
 * –ó–∞–∫—Ä–∏–≤–∞—î –º–æ–¥–∞–ª—å–Ω–µ –≤—ñ–∫–Ω–æ.
 * @param {HTMLElement} modalElement - –ï–ª–µ–º–µ–Ω—Ç –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –≤—ñ–∫–Ω–∞.
 */
const closeModal = (modalElement) => {
  modalElement.style.display = 'none';
  body.style.overflow = ''; // –î–æ–∑–≤–æ–ª—è—î–º–æ –ø—Ä–æ–∫—Ä—É—Ç–∫—É —Ñ–æ–Ω—É
};

/**
 * –í—ñ–¥–∫—Ä–∏–≤–∞—î –º–æ–¥–∞–ª—å–Ω–µ –≤—ñ–∫–Ω–æ –¥–µ—Ç–∞–ª–µ–π –ø—Ä–æ–¥—É–∫—Ç—É.
 * @param {Object} product - –û–±'—î–∫—Ç —Ç–æ–≤–∞—Ä—É.
 */
const openProductDetailsModal = (product) => {
  const productDetailsContent = productDetailsModal.querySelector(
    '.product-details-content'
  );
  const productCategory = products.find((cat) =>
    cat.categoryList.some((item) => item.id === product.id)
  );

  const kbzhvValues = product.–∫–±–∂–≤ ? product.–∫–±–∂–≤.split(' / ') : [];

  // –û—Ç—Ä–∏–º—É—î–º–æ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é –ø—Ä–æ –∞–∫—Ü—ñ—é
  const discountInfo = getDiscountInfo(product.categoryId, product.–Ω–∞–∑–≤–∞);

  let saleInfoHtml = '';

  // –ê–∫—Ü—ñ—è –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∏–π –ø—Ä–æ–¥—É–∫—Ç
  if (product.–∞–∫—Ü—ñ—è && isPromotionActive(product.–∞–∫—Ü—ñ—è.—Ç–µ—Ä–º—ñ–Ω)) {
    const discountPercent = Math.round(
      (1 - product.–∞–∫—Ü—ñ—è.—Ü—ñ–Ω–∞ / product.—Ü—ñ–Ω–∞) * 100
    );
    saleInfoHtml = `
      <div class="sale-info">
        <h4>–ê–∫—Ü—ñ—è: –ó–Ω–∏–∂–∫–∞ ${discountPercent}%</h4>
        ${
          product.–∞–∫—Ü—ñ—è.—É–º–æ–≤–∞
            ? `<p class="sale-info-condition"><strong>${product.–∞–∫—Ü—ñ—è.—É–º–æ–≤–∞}</strong></p>`
            : ''
        }
        <p class="sale-info-date">–¢–µ—Ä–º—ñ–Ω –¥—ñ—ó –∞–∫—Ü—ñ—ó: –¥–æ ${
          product.–∞–∫—Ü—ñ—è.—Ç–µ—Ä–º—ñ–Ω
        }</p>
      </div>
    `;
  }
  // –ê–∫—Ü—ñ—è –Ω–∞ –∫–∞—Ç–µ–≥–æ—Ä—ñ—é
  else if (
    productCategory?.–∞–∫—Ü—ñ—è &&
    isPromotionActive(productCategory.–∞–∫—Ü—ñ—è.—Ç–µ—Ä–º—ñ–Ω)
  ) {
    saleInfoHtml = `
      <div class="sale-info">
        <h4>–ê–∫—Ü—ñ—è –Ω–∞ –∫–∞—Ç–µ–≥–æ—Ä—ñ—é "${productCategory.category}"</h4>
        ${productCategory.–∞–∫—Ü—ñ—è.—É–º–æ–≤–∏
          .map((condition) => `<p>${condition}</p>`)
          .join('')}
        <p class="sale-info-date">–¢–µ—Ä–º—ñ–Ω –¥—ñ—ó –∞–∫—Ü—ñ—ó: –¥–æ ${
          productCategory.–∞–∫—Ü—ñ—è.—Ç–µ—Ä–º—ñ–Ω
        }</p>
      </div>
    `;
  }

  productDetailsContent.innerHTML = `
    <img src="./img/products/${product.images[0] || 'placeholder.jpg'}" alt="${
    product.–Ω–∞–∑–≤–∞
  }">
    <div class="product-details-text">
      <h3>${product.–Ω–∞–∑–≤–∞}</h3>
      <div class="price-container">
        ${
          discountInfo
            ? `<span class="original-price">${product.—Ü—ñ–Ω–∞} ‚Ç¥</span>`
            : ''
        }
        <span class="current-price">${
          discountInfo ? discountInfo.discountPrice : product.—Ü—ñ–Ω–∞
        } ${product.–≤–∞—Ä—ñ–∞–Ω—Ç–∏ ? '‚Ç¥/–∫–≥' : '‚Ç¥/—à—Ç'}</span>
      </div>
      ${saleInfoHtml}
      ${product.–æ–ø–∏—Å ? `<p><strong>–û–ø–∏—Å:</strong> ${product.–æ–ø–∏—Å}</p>` : ''}
      ${product.—Å–∫–ª–∞–¥ ? `<p><strong>–°–∫–ª–∞–¥:</strong> ${product.—Å–∫–ª–∞–¥}</p>` : ''}
      ${product.–∫–±–∂–≤ ? `<p><strong>–ù–∞ 100–≥:</strong></p>` : ''}
      ${product.–∫–±–∂–≤ ? `<p>–ö–∞–ª–æ—Ä—ñ–π - ${kbzhvValues[0]}</p>` : ''}
      ${product.–∫–±–∂–≤ ? `<p>–ë—ñ–ª–∫—ñ–≤ - ${kbzhvValues[1]}</p>` : ''}
      ${product.–∫–±–∂–≤ ? `<p>–ñ–∏—Ä—ñ–≤ - ${kbzhvValues[2]}</p>` : ''}
      ${product.–∫–±–∂–≤ ? `<p>–í—É–≥–ª–µ–≤–æ–¥—ñ–≤ - ${kbzhvValues[3]}</p>` : ''}
      ${
        productCategory && productCategory.categoryDescription
          ? `
        <p><strong>–ö–∞—Ç–µ–≥–æ—Ä—ñ—è:</strong> ${productCategory.category}</p>
        <p>${productCategory.categoryDescription.join(' ')}</p>
      `
          : ''
      }
      <button class="buy-button add-to-cart-from-details" data-product-id="${
        product.id
      }">
        –î–æ–¥–∞—Ç–∏ –¥–æ –∫–æ—à–∏–∫–∞
      </button>
    </div>
  `;

  productDetailsModal
    .querySelector('.add-to-cart-from-details')
    .addEventListener('click', () => {
      closeModal(productDetailsModal);
      openAddToCartModal(product);
    });

  openModal(productDetailsModal);
};

//! --- –û–±—Ä–æ–±–Ω–∏–∫–∏ –ø–æ–¥—ñ–π ---

// –ó–∞–∫—Ä–∏—Ç—Ç—è –º–æ–¥–∞–ª–æ–∫ –ø–æ –∫–ª—ñ–∫—É –Ω–∞ X
closeButtons.forEach((button) => {
  button.addEventListener('click', (e) => {
    closeModal(e.target.closest('.modal'));
  });
});

// –ó–∞–∫—Ä–∏—Ç—Ç—è –º–æ–¥–∞–ª–æ–∫ –ø–æ –∫–ª—ñ–∫—É –ø–æ–≤–∑ –≤—ñ–∫–Ω–æ
window.addEventListener('click', (e) => {
  if (e.target.classList.contains('modal')) {
    closeModal(e.target);
  }
});

// –û–±—Ä–æ–±–Ω–∏–∫–∏ –¥–ª—è —ñ–∫–æ–Ω–æ–∫ —Ö–µ–¥–µ—Ä–∞
document
  .querySelector('[data-modal-target="contacts-modal"]')
  .addEventListener('click', (e) => {
    e.preventDefault();
    openModal(contactsModal);
  });

document
  .querySelector('[data-modal-target="cart-modal"]')
  .addEventListener('click', (e) => {
    e.preventDefault();
    displayCartItems();
    openModal(cartModal);
  });

//! Burger menu

// Helper function to set header height dynamically for CSS variable
function setHeaderHeightCssVariable() {
  const header = document.querySelector('.header');
  if (header) {
    document.documentElement.style.setProperty(
      '--header-height',
      `${header.offsetHeight}px`
    );
  }
}

// Call on load and resize
window.addEventListener('load', setHeaderHeightCssVariable);
window.addEventListener('resize', setHeaderHeightCssVariable);

burgerMenuBtn.addEventListener('click', (event) => {
  event.stopPropagation();
  mobileMenuOverlay.classList.toggle('open'); // Toggle the 'open' class
  body.style.overflow = mobileMenuOverlay.classList.contains('open')
    ? 'hidden'
    : ''; // Disable/enable body scroll

  // Toggle burger/close icon
  if (mobileMenuOverlay.classList.contains('open')) {
    burgerMenuIcon.classList.remove('fa-bars');
    burgerMenuIcon.classList.add('fa-times'); // 'fa-times' is the close icon
    populateMobileMenuCategories(); // Populate only when opening
  } else {
    burgerMenuIcon.classList.remove('fa-times');
    burgerMenuIcon.classList.add('fa-bars');
  }
});

// Click outside to close mobile menu
document.addEventListener('click', (event) => {
  // Check if the menu is open AND if the click is outside both the burger button AND the menu content
  if (
    mobileMenuOverlay.classList.contains('open') && // Only try to close if it's open
    !menuContent.contains(event.target) &&
    !burgerMenuBtn.contains(event.target) // Prevent closing if the burger button itself was clicked
  ) {
    mobileMenuOverlay.classList.remove('open');
    body.style.overflow = ''; // Re-enable body scroll
    burgerMenuIcon.classList.remove('fa-times'); // Revert icon
    burgerMenuIcon.classList.add('fa-bars');
  }
});

// Close menu if a link inside is clicked
const closeMobileMenuIfLinkClicked = (event) => {
  if (event.target.tagName === 'A') {
    mobileMenuOverlay.classList.remove('open');
    body.style.overflow = '';
    burgerMenuIcon.classList.remove('fa-times');
    burgerMenuIcon.classList.add('fa-bars');
  }
};

mobileMenuLinks.addEventListener('click', closeMobileMenuIfLinkClicked);

mobileMenuCategories.addEventListener('click', closeMobileMenuIfLinkClicked);

// Hero Slider navigation
prevSlideBtn.addEventListener('click', () => {
  prevSlide();
  resetSlideShow();
});
nextSlideBtn.addEventListener('click', () => {
  nextSlide();
  resetSlideShow();
});

// –î–æ–¥–∞—î–º–æ –æ–±—Ä–æ–±–Ω–∏–∫ –¥–ª—è –∫–Ω–æ–ø–∫–∏ "–û–±—Ä–∞–Ω—ñ —Ç–æ–≤–∞—Ä–∏"
openLikedProductsModalBtn.addEventListener('click', (e) => {
  e.preventDefault();
  openLikedProductsModal();
});

//! Theme toggle functionality
const prefersDarkScheme = window.matchMedia('(prefers-color-scheme: dark)');

themeToggleBtn.addEventListener('click', () => {
  // –ü–µ—Ä–µ–º–∏–∫–∞—î–º–æ —Ç–µ–º—É
  const isDark = body.classList.toggle('dark-theme');

  // –ó–±–µ—Ä—ñ–≥–∞—î–º–æ –≤–∏–±—ñ—Ä –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ –≤ localStorage
  if (isDark) {
    localStorage.setItem('fitcakes-theme', 'dark');
    themeToggleBtn.innerHTML = '<i class="fas fa-sun"></i>';
  } else {
    localStorage.setItem('fitcakes-theme', 'light');
    themeToggleBtn.innerHTML = '<i class="fas fa-moon"></i>';
  }
});

// –§—É–Ω–∫—Ü—ñ—è –¥–ª—è –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è —Ç–µ–º–∏
const setTheme = () => {
  const savedTheme = localStorage.getItem('fitcakes-theme');

  // –Ø–∫—â–æ —î –∑–±–µ—Ä–µ–∂–µ–Ω–∞ —Ç–µ–º–∞ –≤—ñ–¥ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ - –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ —ó—ó
  if (savedTheme) {
    if (savedTheme === 'dark') {
      body.classList.add('dark-theme');
      themeToggleBtn.innerHTML = '<i class="fas fa-sun"></i>';
    } else {
      body.classList.remove('dark-theme');
      themeToggleBtn.innerHTML = '<i class="fas fa-moon"></i>';
    }
  }
  // –Ø–∫—â–æ –Ω–µ–º–∞—î –∑–±–µ—Ä–µ–∂–µ–Ω–æ—ó —Ç–µ–º–∏ - –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ —Ç–µ–º—É –ø—Ä–∏—Å—Ç—Ä–æ—é
  else {
    if (prefersDarkScheme.matches) {
      body.classList.add('dark-theme');
      themeToggleBtn.innerHTML = '<i class="fas fa-sun"></i>';
    } else {
      body.classList.remove('dark-theme');
      themeToggleBtn.innerHTML = '<i class="fas fa-moon"></i>';
    }
  }
};

// –í—Å—Ç–∞–Ω–æ–≤–ª—é—î–º–æ —Ç–µ–º—É –ø—Ä–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—ñ —Å—Ç–æ—Ä—ñ–Ω–∫–∏
document.addEventListener('DOMContentLoaded', setTheme);

// –°–ª—É—Ö–∞—î–º–æ –∑–º—ñ–Ω–∏ —Ç–µ–º–∏ –ø—Ä–∏—Å—Ç—Ä–æ—é (—è–∫—â–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –Ω–µ –∑–º—ñ–Ω—é–≤–∞–≤ —Ç–µ–º—É –≤—Ä—É—á–Ω—É)
prefersDarkScheme.addListener((e) => {
  if (!localStorage.getItem('fitcakes-theme')) {
    setTheme();
  }
});

//! FAQ Accordion functionality
document.querySelectorAll('.faq-question').forEach((question) => {
  question.addEventListener('click', () => {
    const faqItem = question.parentElement;
    const isActive = faqItem.classList.contains('active');

    // Close all other items
    document.querySelectorAll('.faq-item').forEach((item) => {
      if (item !== faqItem) {
        item.classList.remove('active');
      }
    });

    // Toggle current item
    if (!isActive) {
      faqItem.classList.add('active');
    } else {
      faqItem.classList.remove('active');
    }
  });
});

//Open first FAQ item by default
document.querySelector('.faq-item')?.classList.add('active');

// –§—É–Ω–∫—Ü—ñ—è –¥–ª—è –∑–∞–ø–æ–≤–Ω–µ–Ω–Ω—è –º–æ–±—ñ–ª—å–Ω–æ–≥–æ –º–µ–Ω—é –∫–∞—Ç–µ–≥–æ—Ä—ñ—è–º–∏
const populateMobileMenuCategories = () => {
  mobileMenuCategories.innerHTML = '';
  products.forEach((category) => {
    const li = document.createElement('li');
    const a = document.createElement('a');
    a.href = `#${category.categoryId}`;
    a.textContent = category.category;
    a.addEventListener('click', (e) => {
      e.preventDefault();
      const targetSection = document.getElementById(category.categoryId);
      if (targetSection) {
        targetSection.scrollIntoView({ behavior: 'smooth' });
      }
    });
    li.appendChild(a);
    mobileMenuCategories.appendChild(li);
  });
};

/**
 * –í—ñ–¥–æ–±—Ä–∞–∂–∞—î –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è "–¢–æ–≤–∞—Ä –¥–æ–¥–∞–Ω–æ –¥–æ –∫–æ—à–∏–∫–∞!"
 */
const showAddToCartMessage = () => {
  addToCartMessage.classList.remove('hide');
  addToCartMessage.classList.add('show');
  messageTimerBar.style.width = '100%';
  messageTimerBar.style.transition = 'width 3s linear';

  setTimeout(() => {
    addToCartMessage.classList.remove('show');
    addToCartMessage.classList.add('hide');
    messageTimerBar.style.transition = 'none';
    messageTimerBar.style.width = '0%';
  }, 3000); // –ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –∑–Ω–∏–∫–∞—î —á–µ—Ä–µ–∑ 3 —Å–µ–∫—É–Ω–¥–∏
};

// –õ–æ–≥—ñ–∫–∞ –æ—Ñ–æ—Ä–º–ª–µ–Ω–Ω—è –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è
// Checkout
checkoutButton.addEventListener('click', () => {
  closeModal(cartModal);
  openModal(orderModal);
});

editOrder.addEventListener('click', () => {
  closeModal(orderModal);
  openModal(cartModal);
});

//! --- –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è —Å—Ç–æ—Ä—ñ–Ω–∫–∏ ---

document.addEventListener('DOMContentLoaded', () => {
  displayProducts();

  // 1. Populate likedProductsData from Local Storage first
  const likedIds = getLikedProducts();
  likedProductsData = products
    .flatMap((cat) => cat.categoryList)
    .filter((p) => likedIds.includes(p.id));

  // 2. Now call all functions that depend on fully loaded data
  updateLikedProductsCount(); // Will now reflect the actual liked products
  updateCartCount(); // Ensure cart count is also updated (already correct based on `loadCart()`)

  populateHeroSlider();
  populateMobileMenuCategories();

  document.querySelectorAll('.like-button').forEach((button) => {
    const productId = button.dataset.productId;
    updateLikeButtonIcon(button, productId);
  });
});
